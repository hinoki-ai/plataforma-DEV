#!/usr/bin/env bash
# Quick deployment shortcut
# Usage: vv [options]

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_DIR="$(cd "$SCRIPT_DIR/.." && pwd)"

cd "$PROJECT_DIR" || exit 1

# Check if emergency flag is passed
if [[ "$1" == "--emergency" ]] || [[ "$1" == "-e" ]]; then
  node scripts/emergency-deploy.js "${@:2}"
elif [[ "$1" == "--fast" ]] || [[ "$1" == "-f" ]]; then
  node scripts/deploy.js --skip-checks "${@:2}"
elif [[ "$1" == "--help" ]] || [[ "$1" == "-h" ]]; then
  echo "Quick Deployment Shortcut (vv)"
  echo ""
  echo "Usage:"
  echo "  vv                    # Run full deployment"
  echo "  vv --fast             # Fast deployment (skip checks)"
  echo "  vv --emergency        # Emergency deployment"
  echo "  vv --help             # Show this help"
  echo ""
  echo "All other options are passed to the deploy script."
else
  node scripts/deploy.js "$@"
fi

