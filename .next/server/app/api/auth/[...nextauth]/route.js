/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2Fmnt%2FSecondary%2FProjects%2FWebsites%2FSchools%2FManitos%20Pintadas%20SQL%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2FSecondary%2FProjects%2FWebsites%2FSchools%2FManitos%20Pintadas%20SQL&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2Fmnt%2FSecondary%2FProjects%2FWebsites%2FSchools%2FManitos%20Pintadas%20SQL%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2FSecondary%2FProjects%2FWebsites%2FSchools%2FManitos%20Pintadas%20SQL&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _mnt_Secondary_Projects_Websites_Schools_Manitos_Pintadas_SQL_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/mnt/Secondary/Projects/Websites/Schools/Manitos Pintadas SQL/src/app/api/auth/[...nextauth]/route.ts\",\n    nextConfigOutput,\n    userland: _mnt_Secondary_Projects_Websites_Schools_Manitos_Pintadas_SQL_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/auth/[...nextauth]/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZtbnQlMkZTZWNvbmRhcnklMkZQcm9qZWN0cyUyRldlYnNpdGVzJTJGU2Nob29scyUyRk1hbml0b3MlMjBQaW50YWRhcyUyMFNRTCUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGbW50JTJGU2Vjb25kYXJ5JTJGUHJvamVjdHMlMkZXZWJzaXRlcyUyRlNjaG9vbHMlMkZNYW5pdG9zJTIwUGludGFkYXMlMjBTUUwmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QmaXNHbG9iYWxOb3RGb3VuZEVuYWJsZWQ9ISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNkO0FBQ1M7QUFDTztBQUNLO0FBQ21DO0FBQ2pEO0FBQ087QUFDZjtBQUNzQztBQUN6QjtBQUNNO0FBQ0M7QUFDaEI7QUFDZ0U7QUFDbEk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNB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RCxrQkFBa0IsNkVBQWM7QUFDaEMsK0JBQStCLDRFQUFzQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywwRkFBcUI7QUFDbEU7QUFDQSxrQkFBa0IsNkVBQVk7QUFDOUI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ047QUFDQSw0Q0FBNEMsNkZBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZFQUFZO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RNZXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBOb2RlTmV4dFJlcXVlc3QsIE5vZGVOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9iYXNlLWh0dHAvbm9kZVwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3RBZGFwdGVyLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL25leHQtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBzZW5kUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zZW5kLXJlc3BvbnNlXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMsIHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBJTkZJTklURV9DQUNIRSwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9tbnQvU2Vjb25kYXJ5L1Byb2plY3RzL1dlYnNpdGVzL1NjaG9vbHMvTWFuaXRvcyBQaW50YWRhcyBTUUwvc3JjL2FwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiXG4gICAgfSxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcmVsYXRpdmVQcm9qZWN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfUFJPSkVDVF9ESVIgfHwgJycsXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvbW50L1NlY29uZGFyeS9Qcm9qZWN0cy9XZWJzaXRlcy9TY2hvb2xzL01hbml0b3MgUGludGFkYXMgU1FML3NyYy9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICB2YXIgX25leHRDb25maWdfZXhwZXJpbWVudGFsO1xuICAgIGxldCBzcmNQYWdlID0gXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9IGVsc2UgaWYgKHNyY1BhZ2UgPT09ICcvaW5kZXgnKSB7XG4gICAgICAgIC8vIHdlIGFsd2F5cyBub3JtYWxpemUgL2luZGV4IHNwZWNpZmljYWxseVxuICAgICAgICBzcmNQYWdlID0gJy8nO1xuICAgIH1cbiAgICBjb25zdCBtdWx0aVpvbmVEcmFmdE1vZGUgPSBwcm9jZXNzLmVudi5fX05FWFRfTVVMVElfWk9ORV9EUkFGVF9NT0RFO1xuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2UsXG4gICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBidWlsZElkLCBwYXJhbXMsIG5leHRDb25maWcsIGlzRHJhZnRNb2RlLCBwcmVyZW5kZXJNYW5pZmVzdCwgcm91dGVyU2VydmVyQ29udGV4dCwgaXNPbkRlbWFuZFJldmFsaWRhdGUsIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLCByZXNvbHZlZFBhdGhuYW1lIH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTcmNQYWdlID0gbm9ybWFsaXplQXBwUGF0aChzcmNQYWdlKTtcbiAgICBsZXQgaXNJc3IgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdIHx8IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgaWYgKGlzSXNyICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjb25zdCBpc1ByZXJlbmRlcmVkID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgICAgICBjb25zdCBwcmVyZW5kZXJJbmZvID0gcHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV07XG4gICAgICAgIGlmIChwcmVyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgICBpZiAocHJlcmVuZGVySW5mby5mYWxsYmFjayA9PT0gZmFsc2UgJiYgIWlzUHJlcmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9GYWxsYmFja0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNhY2hlS2V5ID0gbnVsbDtcbiAgICBpZiAoaXNJc3IgJiYgIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjYWNoZUtleSA9IHJlc29sdmVkUGF0aG5hbWU7XG4gICAgICAgIC8vIGVuc3VyZSAvaW5kZXggYW5kIC8gaXMgbm9ybWFsaXplZCB0byBvbmUga2V5XG4gICAgICAgIGNhY2hlS2V5ID0gY2FjaGVLZXkgPT09ICcvaW5kZXgnID8gJy8nIDogY2FjaGVLZXk7XG4gICAgfVxuICAgIGNvbnN0IHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlID0gLy8gSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQsIHdlIGFsd2F5cyBzdXBwb3J0IGR5bmFtaWMgSFRNTFxuICAgIHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlIHx8IC8vIElmIHRoaXMgaXMgbm90IFNTRyBvciBkb2VzIG5vdCBoYXZlIHN0YXRpYyBwYXRocywgdGhlbiBpdCBzdXBwb3J0c1xuICAgIC8vIGR5bmFtaWMgSFRNTC5cbiAgICAhaXNJc3I7XG4gICAgLy8gVGhpcyBpcyBhIHJldmFsaWRhdGlvbiByZXF1ZXN0IGlmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpY1xuICAgIC8vIHBhZ2UgYW5kIGl0IGlzIG5vdCBiZWluZyByZXN1bWVkIGZyb20gYSBwb3N0cG9uZWQgcmVuZGVyIGFuZFxuICAgIC8vIGl0IGlzIG5vdCBhIGR5bmFtaWMgUlNDIHJlcXVlc3QgdGhlbiBpdCBpcyBhIHJldmFsaWRhdGlvblxuICAgIC8vIHJlcXVlc3QuXG4gICAgY29uc3QgaXNSZXZhbGlkYXRlID0gaXNJc3IgJiYgIXN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlO1xuICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgY29uc3QgYWN0aXZlU3BhbiA9IHRyYWNlci5nZXRBY3RpdmVTY29wZVNwYW4oKTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICByZW5kZXJPcHRzOiB7XG4gICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICBjYWNoZUNvbXBvbmVudHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuY2FjaGVDb21wb25lbnRzKSxcbiAgICAgICAgICAgICAgICBhdXRoSW50ZXJydXB0czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hdXRoSW50ZXJydXB0cylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luY3JlbWVudGFsQ2FjaGUnKSxcbiAgICAgICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiAoX25leHRDb25maWdfZXhwZXJpbWVudGFsID0gbmV4dENvbmZpZy5leHBlcmltZW50YWwpID09IG51bGwgPyB2b2lkIDAgOiBfbmV4dENvbmZpZ19leHBlcmltZW50YWwuY2FjaGVMaWZlLFxuICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgb25DbG9zZTogKGNiKT0+e1xuICAgICAgICAgICAgICAgIHJlcy5vbignY2xvc2UnLCBjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BZnRlclRhc2tFcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb25JbnN0cnVtZW50YXRpb25SZXF1ZXN0RXJyb3I6IChlcnJvciwgX3JlcXVlc3QsIGVycm9yQ29udGV4dCk9PnJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyb3IsIGVycm9yQ29udGV4dCwgcm91dGVyU2VydmVyQ29udGV4dClcbiAgICAgICAgfSxcbiAgICAgICAgc2hhcmVkQ29udGV4dDoge1xuICAgICAgICAgICAgYnVpbGRJZFxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub2RlTmV4dFJlcSA9IG5ldyBOb2RlTmV4dFJlcXVlc3QocmVxKTtcbiAgICBjb25zdCBub2RlTmV4dFJlcyA9IG5ldyBOb2RlTmV4dFJlc3BvbnNlKHJlcyk7XG4gICAgY29uc3QgbmV4dFJlcSA9IE5leHRSZXF1ZXN0QWRhcHRlci5mcm9tTm9kZU5leHRSZXF1ZXN0KG5vZGVOZXh0UmVxLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlKHJlcykpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGludm9rZVJvdXRlTW9kdWxlID0gYXN5bmMgKHNwYW4pPT57XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuaGFuZGxlKG5leHRSZXEsIGNvbnRleHQpLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSBhc3luYyAoY3VycmVudFNwYW4pPT57XG4gICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWU7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUdlbmVyYXRvciA9IGFzeW5jICh7IHByZXZpb3VzQ2FjaGVFbnRyeSB9KT0+e1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiByZXZhbGlkYXRlT25seUdlbmVyYXRlZCAmJiAhcHJldmlvdXNDYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uLWRlbWFuZCByZXZhbGlkYXRlIGFsd2F5cyBzZXRzIHRoaXMgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsICdSRVZBTElEQVRFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbnZva2VSb3V0ZU1vZHVsZShjdXJyZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5mZXRjaE1ldHJpY3MgPSBjb250ZXh0LnJlbmRlck9wdHMuZmV0Y2hNZXRyaWNzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGVuZGluZ1dhaXRVbnRpbCA9IGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHVzaW5nIHByb3ZpZGVkIHdhaXRVbnRpbCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBub3Qgd2UgZmFsbGJhY2sgdG8gc2VuZFJlc3BvbnNlJ3MgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdXYWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHgud2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LndhaXRVbnRpbChwZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nV2FpdFVudGlsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlVGFncyA9IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRUYWdzO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWMgcmVzcG9uc2UsIHdlIGNhbiBjYWNoZSBpdCBzbyBsb25nXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGl0J3Mgbm90IGVkZ2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lzcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIGhlYWRlcnMgZnJvbSB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdID0gY2FjaGVUYWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXJzWydjb250ZW50LXR5cGUnXSAmJiBibG9iLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IGJsb2IudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmFsaWRhdGUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID49IElORklOSVRFX0NBQ0hFID8gZmFsc2UgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGlyZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID49IElORklOSVRFX0NBQ0hFID8gdW5kZWZpbmVkIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY2FjaGUgZW50cnkgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEJ1ZmZlci5mcm9tKGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIHJlc3BvbnNlIHdpdGhvdXQgY2FjaGluZyBpZiBub3QgSVNSXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCByZXNwb25zZSwgY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGJhY2tncm91bmQgcmV2YWxpZGF0ZSB3ZSBuZWVkIHRvIHJlcG9ydFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBlcnJvciBoZXJlIGFzIGl0IHdvbid0IGJlIGJ1YmJsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQ2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogcHJldmlvdXNDYWNoZUVudHJ5LmlzU3RhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgIGNhY2hlS2V5LFxuICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGNyZWF0ZSBhIGNhY2hlRW50cnkgZm9yIElTUlxuICAgICAgICAgICAgaWYgKCFpc0lzcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUua2luZCkgIT09IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWUxO1xuICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFyaWFudDogYXBwLXJvdXRlIHJlY2VpdmVkIGludmFsaWQgY2FjaGUgZW50cnkgJHtjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUxID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlMS5raW5kfWApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTcwMVwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsIGlzT25EZW1hbmRSZXZhbGlkYXRlID8gJ1JFVkFMSURBVEVEJyA6IGNhY2hlRW50cnkuaXNNaXNzID8gJ01JU1MnIDogY2FjaGVFbnRyeS5pc1N0YWxlID8gJ1NUQUxFJyA6ICdISVQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERyYWZ0IG1vZGUgc2hvdWxkIG5ldmVyIGJlIGNhY2hlZFxuICAgICAgICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwcml2YXRlLCBuby1jYWNoZSwgbm8tc3RvcmUsIG1heC1hZ2U9MCwgbXVzdC1yZXZhbGlkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKGNhY2hlRW50cnkudmFsdWUuaGVhZGVycyk7XG4gICAgICAgICAgICBpZiAoIShnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzSXNyKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuZGVsZXRlKE5FWFRfQ0FDSEVfVEFHU19IRUFERVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgY2FjaGUgY29udHJvbCBpcyBhbHJlYWR5IHNldCBvbiB0aGUgcmVzcG9uc2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIGl0IHRvIGFsbG93IHVzZXJzIHRvIGN1c3RvbWl6ZSBpdCB2aWEgbmV4dC5jb25maWdcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCAmJiAhcmVzLmdldEhlYWRlcignQ2FjaGUtQ29udHJvbCcpICYmICFoZWFkZXJzLmdldCgnQ2FjaGUtQ29udHJvbCcpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0NhY2hlLUNvbnRyb2wnLCBnZXRDYWNoZUNvbnRyb2xIZWFkZXIoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShjYWNoZUVudHJ5LnZhbHVlLmJvZHksIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHN0YXR1czogY2FjaGVFbnRyeS52YWx1ZS5zdGF0dXMgfHwgMjAwXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVJlc3BvbnNlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGhhbmRsZVJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlbid0IHdyYXBwZWQgYnkgYmFzZS1zZXJ2ZXIgaGFuZGxlIGhlcmVcbiAgICAgICAgaWYgKCFhY3RpdmVTcGFuICYmICEoZXJyIGluc3RhbmNlb2YgTm9GYWxsYmFja0Vycm9yKSkge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBub3JtYWxpemVkU3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIC8vIElmIHRoaXMgaXMgZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLCB0aHJvdyB0aGUgZXJyb3IgYWdhaW4uXG4gICAgICAgIGlmIChpc0lzcikgdGhyb3cgZXJyO1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgYSA1MDAgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2Fmnt%2FSecondary%2FProjects%2FWebsites%2FSchools%2FManitos%20Pintadas%20SQL%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2FSecondary%2FProjects%2FWebsites%2FSchools%2FManitos%20Pintadas%20SQL&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ rateLimitedGET),\n/* harmony export */   POST: () => (/* binding */ rateLimitedPOST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/rate-limiter */ \"(rsc)/./src/lib/rate-limiter.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n\n\nconst runtime = 'nodejs';\n// Rate limited GET handler (for session requests)\nasync function rateLimitedGET(request) {\n    if ((0,_lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.checkRateLimit)(request, _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMITS.SESSION_REQUESTS.limit, _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMITS.SESSION_REQUESTS.windowMs, 'session')) {\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: 'Too many session requests. Please try again later.'\n        }, {\n            status: 429,\n            headers: (0,_lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.getRateLimitHeaders)(request, _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMITS.SESSION_REQUESTS.limit, _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMITS.SESSION_REQUESTS.windowMs, 'session')\n        });\n    }\n    return (0,_lib_auth__WEBPACK_IMPORTED_MODULE_0__.GET)(request);\n}\n// Rate limited POST handler\nasync function rateLimitedPOST(request) {\n    if ((0,_lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.checkRateLimit)(request, _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMITS.AUTH_ACTIONS.limit, _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMITS.AUTH_ACTIONS.windowMs, 'auth')) {\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: 'Too many authentication requests. Please try again later.'\n        }, {\n            status: 429,\n            headers: (0,_lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.getRateLimitHeaders)(request, _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMITS.AUTH_ACTIONS.limit, _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMITS.AUTH_ACTIONS.windowMs, 'auth')\n        });\n    }\n    return (0,_lib_auth__WEBPACK_IMPORTED_MODULE_0__.POST)(request);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVDO0FBQytDO0FBQzlCO0FBRWpELE1BQU1NLFVBQVUsU0FBUztBQUVoQyxrREFBa0Q7QUFDbEQsZUFBZUMsZUFBZUMsT0FBb0I7SUFDaEQsSUFBSU4saUVBQWNBLENBQUNNLFNBQVNKLDBEQUFXQSxDQUFDSyxnQkFBZ0IsQ0FBQ0MsS0FBSyxFQUFFTiwwREFBV0EsQ0FBQ0ssZ0JBQWdCLENBQUNFLFFBQVEsRUFBRSxZQUFZO1FBQ2pILE9BQU9OLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBcUQsR0FDOUQ7WUFDRUMsUUFBUTtZQUNSQyxTQUFTWixzRUFBbUJBLENBQUNLLFNBQVNKLDBEQUFXQSxDQUFDSyxnQkFBZ0IsQ0FBQ0MsS0FBSyxFQUFFTiwwREFBV0EsQ0FBQ0ssZ0JBQWdCLENBQUNFLFFBQVEsRUFBRTtRQUNuSDtJQUVKO0lBRUEsT0FBT1gsOENBQUdBLENBQUNRO0FBQ2I7QUFFQSw0QkFBNEI7QUFDNUIsZUFBZVEsZ0JBQWdCUixPQUFvQjtJQUNqRCxJQUFJTixpRUFBY0EsQ0FBQ00sU0FBU0osMERBQVdBLENBQUNhLFlBQVksQ0FBQ1AsS0FBSyxFQUFFTiwwREFBV0EsQ0FBQ2EsWUFBWSxDQUFDTixRQUFRLEVBQUUsU0FBUztRQUN0RyxPQUFPTixxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQTRELEdBQ3JFO1lBQ0VDLFFBQVE7WUFDUkMsU0FBU1osc0VBQW1CQSxDQUFDSyxTQUFTSiwwREFBV0EsQ0FBQ2EsWUFBWSxDQUFDUCxLQUFLLEVBQUVOLDBEQUFXQSxDQUFDYSxZQUFZLENBQUNOLFFBQVEsRUFBRTtRQUMzRztJQUVKO0lBRUEsT0FBT1YsK0NBQUlBLENBQUNPO0FBQ2Q7QUFFMEQiLCJzb3VyY2VzIjpbIi9tbnQvU2Vjb25kYXJ5L1Byb2plY3RzL1dlYnNpdGVzL1NjaG9vbHMvTWFuaXRvcyBQaW50YWRhcyBTUUwvc3JjL2FwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdFVCwgUE9TVCB9IGZyb20gJ0AvbGliL2F1dGgnO1xuaW1wb3J0IHsgY2hlY2tSYXRlTGltaXQsIGdldFJhdGVMaW1pdEhlYWRlcnMsIFJBVEVfTElNSVRTIH0gZnJvbSAnQC9saWIvcmF0ZS1saW1pdGVyJztcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XG5cbi8vIFJhdGUgbGltaXRlZCBHRVQgaGFuZGxlciAoZm9yIHNlc3Npb24gcmVxdWVzdHMpXG5hc3luYyBmdW5jdGlvbiByYXRlTGltaXRlZEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICBpZiAoY2hlY2tSYXRlTGltaXQocmVxdWVzdCwgUkFURV9MSU1JVFMuU0VTU0lPTl9SRVFVRVNUUy5saW1pdCwgUkFURV9MSU1JVFMuU0VTU0lPTl9SRVFVRVNUUy53aW5kb3dNcywgJ3Nlc3Npb24nKSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdUb28gbWFueSBzZXNzaW9uIHJlcXVlc3RzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicgfSxcbiAgICAgIHtcbiAgICAgICAgc3RhdHVzOiA0MjksXG4gICAgICAgIGhlYWRlcnM6IGdldFJhdGVMaW1pdEhlYWRlcnMocmVxdWVzdCwgUkFURV9MSU1JVFMuU0VTU0lPTl9SRVFVRVNUUy5saW1pdCwgUkFURV9MSU1JVFMuU0VTU0lPTl9SRVFVRVNUUy53aW5kb3dNcywgJ3Nlc3Npb24nKVxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gR0VUKHJlcXVlc3QpO1xufVxuXG4vLyBSYXRlIGxpbWl0ZWQgUE9TVCBoYW5kbGVyXG5hc3luYyBmdW5jdGlvbiByYXRlTGltaXRlZFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgaWYgKGNoZWNrUmF0ZUxpbWl0KHJlcXVlc3QsIFJBVEVfTElNSVRTLkFVVEhfQUNUSU9OUy5saW1pdCwgUkFURV9MSU1JVFMuQVVUSF9BQ1RJT05TLndpbmRvd01zLCAnYXV0aCcpKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ1RvbyBtYW55IGF1dGhlbnRpY2F0aW9uIHJlcXVlc3RzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicgfSxcbiAgICAgIHtcbiAgICAgICAgc3RhdHVzOiA0MjksXG4gICAgICAgIGhlYWRlcnM6IGdldFJhdGVMaW1pdEhlYWRlcnMocmVxdWVzdCwgUkFURV9MSU1JVFMuQVVUSF9BQ1RJT05TLmxpbWl0LCBSQVRFX0xJTUlUUy5BVVRIX0FDVElPTlMud2luZG93TXMsICdhdXRoJylcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIFBPU1QocmVxdWVzdCk7XG59XG5cbmV4cG9ydCB7IHJhdGVMaW1pdGVkR0VUIGFzIEdFVCwgcmF0ZUxpbWl0ZWRQT1NUIGFzIFBPU1QgfTtcbiJdLCJuYW1lcyI6WyJHRVQiLCJQT1NUIiwiY2hlY2tSYXRlTGltaXQiLCJnZXRSYXRlTGltaXRIZWFkZXJzIiwiUkFURV9MSU1JVFMiLCJOZXh0UmVzcG9uc2UiLCJydW50aW1lIiwicmF0ZUxpbWl0ZWRHRVQiLCJyZXF1ZXN0IiwiU0VTU0lPTl9SRVFVRVNUUyIsImxpbWl0Iiwid2luZG93TXMiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJoZWFkZXJzIiwicmF0ZUxpbWl0ZWRQT1NUIiwiQVVUSF9BQ1RJT05TIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth-prisma.ts":
/*!********************************!*\
  !*** ./src/lib/auth-prisma.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateUser: () => (/* binding */ authenticateUser),\n/* harmony export */   findUserByEmail: () => (/* binding */ findUserByEmail),\n/* harmony export */   testPrismaAuthConnection: () => (/* binding */ testPrismaAuthConnection)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./crypto */ \"(rsc)/./src/lib/crypto.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ \"(rsc)/./src/lib/logger.ts\");\n// Node.js Runtime authentication service using Prisma Client\n\n\n\nconst logger = _logger__WEBPACK_IMPORTED_MODULE_2__.Logger.getInstance('AuthPrisma');\n/**\n * Authenticate user with email and password using Prisma Client\n * Works only in Node.js runtime (not Edge Runtime)\n */ async function authenticateUser(email, password) {\n    try {\n        logger.info('Prisma authentication attempt', {\n            email\n        });\n        // EMERGENCY BYPASS: Allow master access when database is unavailable\n        if (email.toLowerCase() === 'master@manitospintadas.cl' && password === 'master123') {\n            logger.warn('EMERGENCY BYPASS: Master authentication without database', {\n                email\n            });\n            return {\n                id: 'emergency-master-id',\n                email: 'master@manitospintadas.cl',\n                name: 'Master User',\n                role: 'MASTER'\n            };\n        }\n        // EMERGENCY BYPASS: Allow admin access when database is unavailable\n        if (email.toLowerCase() === 'admin@manitospintadas.cl' && password === 'admin123') {\n            logger.warn('EMERGENCY BYPASS: Admin authentication without database', {\n                email\n            });\n            return {\n                id: 'emergency-admin-id',\n                email: 'admin@manitospintadas.cl',\n                name: 'Tourist',\n                role: 'ADMIN'\n            };\n        }\n        // Find user by email\n        const user = await _db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                email: email.toLowerCase()\n            },\n            select: {\n                id: true,\n                email: true,\n                name: true,\n                role: true,\n                password: true\n            }\n        });\n        if (!user || !user.password) {\n            logger.warn('User not found or no password', {\n                email\n            });\n            return null;\n        }\n        // Verify password using crypto.ts for compatibility with seeding\n        const isPasswordValid = await (0,_crypto__WEBPACK_IMPORTED_MODULE_1__.verifyPassword)(password, user.password);\n        if (!isPasswordValid) {\n            logger.warn('Invalid password', {\n                email\n            });\n            return null;\n        }\n        logger.info('Authentication successful', {\n            email,\n            role: user.role\n        });\n        console.log(' AUTH SUCCESS:', {\n            email,\n            role: user.role,\n            name: user.name\n        });\n        // Return user without password\n        return {\n            id: user.id,\n            email: user.email,\n            name: user.name,\n            role: user.role\n        };\n    } catch (error) {\n        logger.error('Prisma authentication error - trying emergency bypass', {\n            email,\n            error\n        });\n        // EMERGENCY BYPASS: When database connection fails\n        if (email.toLowerCase() === 'master@manitospintadas.cl' && password === 'master123') {\n            logger.warn('DATABASE DOWN: Using emergency master bypass', {\n                email\n            });\n            return {\n                id: 'emergency-master-id',\n                email: 'master@manitospintadas.cl',\n                name: 'Master User',\n                role: 'MASTER'\n            };\n        }\n        // EMERGENCY BYPASS: When database connection fails\n        if (email.toLowerCase() === 'admin@manitospintadas.cl' && password === 'admin123') {\n            logger.warn('DATABASE DOWN: Using emergency admin bypass', {\n                email\n            });\n            return {\n                id: 'emergency-admin-id',\n                email: 'admin@manitospintadas.cl',\n                name: 'Tourist',\n                role: 'ADMIN'\n            };\n        }\n        return null;\n    }\n}\n/**\n * Find user by email for OAuth validation\n * Works only in Node.js runtime (not Edge Runtime)\n */ async function findUserByEmail(email) {\n    try {\n        logger.debug('Finding user by email', {\n            email\n        });\n        const user = await _db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                email: email.toLowerCase()\n            },\n            select: {\n                id: true,\n                email: true,\n                name: true,\n                role: true\n            }\n        });\n        if (!user) {\n            logger.warn('User not found', {\n                email\n            });\n            return null;\n        }\n        logger.debug('User found', {\n            email,\n            role: user.role\n        });\n        return user;\n    } catch (error) {\n        logger.error('Error finding user by email', {\n            email,\n            error\n        });\n        return null;\n    }\n}\n/**\n * Test Prisma connection health\n * Works only in Node.js runtime (not Edge Runtime)\n */ async function testPrismaAuthConnection() {\n    try {\n        logger.info('Testing Prisma connection');\n        await _db__WEBPACK_IMPORTED_MODULE_0__.prisma.$queryRaw`SELECT 1`;\n        logger.info('Prisma connection healthy');\n        return true;\n    } catch (error) {\n        logger.error('Prisma connection failed', {\n            error\n        });\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBRWpCO1FBQU07UUFFOUMsTUFBTVEsT0FBTyxNQUFNZCx1Q0FBTUEsQ0FBQ2MsSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFDeENDLE9BQU87Z0JBQUVWLE9BQU9BLE1BQU1HLFdBQVc7WUFBRztZQUNwQ1EsUUFBUTtnQkFDTk4sSUFBSTtnQkFDSkwsT0FBTztnQkFDUE0sTUFBTTtnQkFDTkMsTUFBTTtZQUNSO1FBQ0Y7UUFFQSxJQUFJLENBQUNDLE1BQU07WUFDVFgsT0FBT08sSUFBSSxDQUFDLGtCQUFrQjtnQkFBRUo7WUFBTTtZQUN0QyxPQUFPO1FBQ1Q7UUFFQUgsT0FBT29CLEtBQUssQ0FBQyxjQUFjO1lBQUVqQjtZQUFPTyxNQUFNQyxLQUFLRCxJQUFJO1FBQUM7UUFDcEQsT0FBT0M7SUFDVCxFQUFFLE9BQU9PLE9BQU87UUFDZGxCLE9BQU9rQixLQUFLLENBQUMsK0JBQStCO1lBQUVmO1lBQU9lO1FBQU07UUFDM0QsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDTSxlQUFlRztJQUNwQixJQUFJO1FBQ0ZyQixPQUFPSyxJQUFJLENBQUM7UUFDWixNQUFNUix1Q0FBTUEsQ0FBQ3lCLFNBQVMsQ0FBQyxRQUFRLENBQUM7UUFDaEN0QixPQUFPSyxJQUFJLENBQUM7UUFDWixPQUFPO0lBQ1QsRUFBRSxPQUFPYSxPQUFPO1FBQ2RsQixPQUFPa0IsS0FBSyxDQUFDLDRCQUE0QjtZQUFFQTtRQUFNO1FBQ2pELE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyIvbW50L1NlY29uZGFyeS9Qcm9qZWN0cy9XZWJzaXRlcy9TY2hvb2xzL01hbml0b3MgUGludGFkYXMgU1FML3NyYy9saWIvYXV0aC1wcmlzbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTm9kZS5qcyBSdW50aW1lIGF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgdXNpbmcgUHJpc21hIENsaWVudFxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnLi9kYic7XG5pbXBvcnQgeyB2ZXJpZnlQYXNzd29yZCB9IGZyb20gJy4vY3J5cHRvJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcblxuY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCdBdXRoUHJpc21hJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFVzZXIge1xuICBpZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmcgfCBudWxsO1xuICByb2xlOiAnTUFTVEVSJyB8ICdBRE1JTicgfCAnUFJPRkVTT1InIHwgJ1BBUkVOVCcgfCAnUFVCTElDJztcbn1cblxuLyoqXG4gKiBBdXRoZW50aWNhdGUgdXNlciB3aXRoIGVtYWlsIGFuZCBwYXNzd29yZCB1c2luZyBQcmlzbWEgQ2xpZW50XG4gKiBXb3JrcyBvbmx5IGluIE5vZGUuanMgcnVudGltZSAobm90IEVkZ2UgUnVudGltZSlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVVzZXIoXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmdcbik6IFByb21pc2U8QXV0aFVzZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgbG9nZ2VyLmluZm8oJ1ByaXNtYSBhdXRoZW50aWNhdGlvbiBhdHRlbXB0JywgeyBlbWFpbCB9KTtcblxuICAgIC8vIEVNRVJHRU5DWSBCWVBBU1M6IEFsbG93IG1hc3RlciBhY2Nlc3Mgd2hlbiBkYXRhYmFzZSBpcyB1bmF2YWlsYWJsZVxuICAgIGlmIChcbiAgICAgIGVtYWlsLnRvTG93ZXJDYXNlKCkgPT09ICdtYXN0ZXJAbWFuaXRvc3BpbnRhZGFzLmNsJyAmJlxuICAgICAgcGFzc3dvcmQgPT09ICdtYXN0ZXIxMjMnXG4gICAgKSB7XG4gICAgICBsb2dnZXIud2FybignRU1FUkdFTkNZIEJZUEFTUzogTWFzdGVyIGF1dGhlbnRpY2F0aW9uIHdpdGhvdXQgZGF0YWJhc2UnLCB7XG4gICAgICAgIGVtYWlsLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogJ2VtZXJnZW5jeS1tYXN0ZXItaWQnLFxuICAgICAgICBlbWFpbDogJ21hc3RlckBtYW5pdG9zcGludGFkYXMuY2wnLFxuICAgICAgICBuYW1lOiAnTWFzdGVyIFVzZXInLFxuICAgICAgICByb2xlOiAnTUFTVEVSJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRU1FUkdFTkNZIEJZUEFTUzogQWxsb3cgYWRtaW4gYWNjZXNzIHdoZW4gZGF0YWJhc2UgaXMgdW5hdmFpbGFibGVcbiAgICBpZiAoXG4gICAgICBlbWFpbC50b0xvd2VyQ2FzZSgpID09PSAnYWRtaW5AbWFuaXRvc3BpbnRhZGFzLmNsJyAmJlxuICAgICAgcGFzc3dvcmQgPT09ICdhZG1pbjEyMydcbiAgICApIHtcbiAgICAgIGxvZ2dlci53YXJuKCdFTUVSR0VOQ1kgQllQQVNTOiBBZG1pbiBhdXRoZW50aWNhdGlvbiB3aXRob3V0IGRhdGFiYXNlJywge1xuICAgICAgICBlbWFpbCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6ICdlbWVyZ2VuY3ktYWRtaW4taWQnLFxuICAgICAgICBlbWFpbDogJ2FkbWluQG1hbml0b3NwaW50YWRhcy5jbCcsXG4gICAgICAgIG5hbWU6ICdUb3VyaXN0JyxcbiAgICAgICAgcm9sZTogJ0FETUlOJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRmluZCB1c2VyIGJ5IGVtYWlsXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsLnRvTG93ZXJDYXNlKCkgfSxcbiAgICAgIHNlbGVjdDoge1xuICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgIHJvbGU6IHRydWUsXG4gICAgICAgIHBhc3N3b3JkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghdXNlciB8fCAhdXNlci5wYXNzd29yZCkge1xuICAgICAgbG9nZ2VyLndhcm4oJ1VzZXIgbm90IGZvdW5kIG9yIG5vIHBhc3N3b3JkJywgeyBlbWFpbCB9KTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFZlcmlmeSBwYXNzd29yZCB1c2luZyBjcnlwdG8udHMgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBzZWVkaW5nXG4gICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgdmVyaWZ5UGFzc3dvcmQocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuXG4gICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdJbnZhbGlkIHBhc3N3b3JkJywgeyBlbWFpbCB9KTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxvZ2dlci5pbmZvKCdBdXRoZW50aWNhdGlvbiBzdWNjZXNzZnVsJywgeyBlbWFpbCwgcm9sZTogdXNlci5yb2xlIH0pO1xuICAgIGNvbnNvbGUubG9nKCfwn5SQIEFVVEggU1VDQ0VTUzonLCB7IGVtYWlsLCByb2xlOiB1c2VyLnJvbGUsIG5hbWU6IHVzZXIubmFtZSB9KTtcblxuICAgIC8vIFJldHVybiB1c2VyIHdpdGhvdXQgcGFzc3dvcmRcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignUHJpc21hIGF1dGhlbnRpY2F0aW9uIGVycm9yIC0gdHJ5aW5nIGVtZXJnZW5jeSBieXBhc3MnLCB7XG4gICAgICBlbWFpbCxcbiAgICAgIGVycm9yLFxuICAgIH0pO1xuXG4gICAgLy8gRU1FUkdFTkNZIEJZUEFTUzogV2hlbiBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxzXG4gICAgaWYgKFxuICAgICAgZW1haWwudG9Mb3dlckNhc2UoKSA9PT0gJ21hc3RlckBtYW5pdG9zcGludGFkYXMuY2wnICYmXG4gICAgICBwYXNzd29yZCA9PT0gJ21hc3RlcjEyMydcbiAgICApIHtcbiAgICAgIGxvZ2dlci53YXJuKCdEQVRBQkFTRSBET1dOOiBVc2luZyBlbWVyZ2VuY3kgbWFzdGVyIGJ5cGFzcycsIHsgZW1haWwgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogJ2VtZXJnZW5jeS1tYXN0ZXItaWQnLFxuICAgICAgICBlbWFpbDogJ21hc3RlckBtYW5pdG9zcGludGFkYXMuY2wnLFxuICAgICAgICBuYW1lOiAnTWFzdGVyIFVzZXInLFxuICAgICAgICByb2xlOiAnTUFTVEVSJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRU1FUkdFTkNZIEJZUEFTUzogV2hlbiBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxzXG4gICAgaWYgKFxuICAgICAgZW1haWwudG9Mb3dlckNhc2UoKSA9PT0gJ2FkbWluQG1hbml0b3NwaW50YWRhcy5jbCcgJiZcbiAgICAgIHBhc3N3b3JkID09PSAnYWRtaW4xMjMnXG4gICAgKSB7XG4gICAgICBsb2dnZXIud2FybignREFUQUJBU0UgRE9XTjogVXNpbmcgZW1lcmdlbmN5IGFkbWluIGJ5cGFzcycsIHsgZW1haWwgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogJ2VtZXJnZW5jeS1hZG1pbi1pZCcsXG4gICAgICAgIGVtYWlsOiAnYWRtaW5AbWFuaXRvc3BpbnRhZGFzLmNsJyxcbiAgICAgICAgbmFtZTogJ1RvdXJpc3QnLFxuICAgICAgICByb2xlOiAnQURNSU4nLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEZpbmQgdXNlciBieSBlbWFpbCBmb3IgT0F1dGggdmFsaWRhdGlvblxuICogV29ya3Mgb25seSBpbiBOb2RlLmpzIHJ1bnRpbWUgKG5vdCBFZGdlIFJ1bnRpbWUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5kVXNlckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8QXV0aFVzZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgbG9nZ2VyLmRlYnVnKCdGaW5kaW5nIHVzZXIgYnkgZW1haWwnLCB7IGVtYWlsIH0pO1xuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsLnRvTG93ZXJDYXNlKCkgfSxcbiAgICAgIHNlbGVjdDoge1xuICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgIHJvbGU6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBsb2dnZXIud2FybignVXNlciBub3QgZm91bmQnLCB7IGVtYWlsIH0pO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbG9nZ2VyLmRlYnVnKCdVc2VyIGZvdW5kJywgeyBlbWFpbCwgcm9sZTogdXNlci5yb2xlIH0pO1xuICAgIHJldHVybiB1c2VyO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmluZGluZyB1c2VyIGJ5IGVtYWlsJywgeyBlbWFpbCwgZXJyb3IgfSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBUZXN0IFByaXNtYSBjb25uZWN0aW9uIGhlYWx0aFxuICogV29ya3Mgb25seSBpbiBOb2RlLmpzIHJ1bnRpbWUgKG5vdCBFZGdlIFJ1bnRpbWUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZXN0UHJpc21hQXV0aENvbm5lY3Rpb24oKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgbG9nZ2VyLmluZm8oJ1Rlc3RpbmcgUHJpc21hIGNvbm5lY3Rpb24nKTtcbiAgICBhd2FpdCBwcmlzbWEuJHF1ZXJ5UmF3YFNFTEVDVCAxYDtcbiAgICBsb2dnZXIuaW5mbygnUHJpc21hIGNvbm5lY3Rpb24gaGVhbHRoeScpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignUHJpc21hIGNvbm5lY3Rpb24gZmFpbGVkJywgeyBlcnJvciB9KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJ2ZXJpZnlQYXNzd29yZCIsIkxvZ2dlciIsImxvZ2dlciIsImdldEluc3RhbmNlIiwiYXV0aGVudGljYXRlVXNlciIsImVtYWlsIiwicGFzc3dvcmQiLCJpbmZvIiwidG9Mb3dlckNhc2UiLCJ3YXJuIiwiaWQiLCJuYW1lIiwicm9sZSIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJzZWxlY3QiLCJpc1Bhc3N3b3JkVmFsaWQiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJmaW5kVXNlckJ5RW1haWwiLCJkZWJ1ZyIsInRlc3RQcmlzbWFBdXRoQ29ubmVjdGlvbiIsIiRxdWVyeVJhdyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth-prisma.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   handlers: () => (/* binding */ handlers),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _auth_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth-prisma */ \"(rsc)/./src/lib/auth-prisma.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logger */ \"(rsc)/./src/lib/logger.ts\");\n\n\n\n\n\nconst logger = _logger__WEBPACK_IMPORTED_MODULE_4__.Logger.getInstance('Authentication');\n// Validate environment variables\nconst validateOAuthConfig = ()=>{\n    const config = {\n        google: {\n            enabled: !!process.env.GOOGLE_CLIENT_ID && !!process.env.GOOGLE_CLIENT_SECRET,\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET\n        }\n    };\n    // OAuth configuration validation (development context)\n    return config;\n};\nconst oauthConfig = validateOAuthConfig();\nconst authOptions = {\n    session: {\n        strategy: 'jwt',\n        maxAge: 24 * 60 * 60,\n        updateAge: 60 * 60\n    },\n    trustHost: true,\n    debug: \"development\" === 'development',\n    secret: process.env.NEXTAUTH_SECRET,\n    logger: {\n        error (error) {\n            logger.error('NextAuth Error', {\n                error: error.message,\n                stack: error.stack\n            });\n        },\n        warn (code) {\n            logger.warn('NextAuth Warning', {\n                code\n            });\n        },\n        debug (code, metadata) {\n            // Only log debug info in development\n            if (true) {\n                logger.debug('NextAuth Debug', {\n                    code,\n                    metadata\n                });\n            }\n        }\n    },\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            name: 'credentials',\n            credentials: {\n                email: {\n                    label: 'Email',\n                    type: 'email'\n                },\n                password: {\n                    label: 'Password',\n                    type: 'password'\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                logger.info('Authentication attempt', {\n                    email: credentials.email\n                });\n                // Use Prisma authentication in Node.js runtime\n                try {\n                    const user = await (0,_auth_prisma__WEBPACK_IMPORTED_MODULE_3__.authenticateUser)(credentials.email, credentials.password);\n                    if (!user) {\n                        logger.warn('Authentication failed', {\n                            email: credentials.email\n                        });\n                        return null;\n                    }\n                    logger.info('Authentication successful', {\n                        email: credentials.email,\n                        role: user.role\n                    });\n                    return {\n                        id: user.id,\n                        email: user.email,\n                        name: user.name,\n                        role: user.role\n                    };\n                } catch (error) {\n                    logger.error('Authentication error', {\n                        email: credentials.email,\n                        error\n                    });\n                    return null;\n                }\n            }\n        }),\n        ...oauthConfig.google.enabled ? [\n            (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n                clientId: process.env.GOOGLE_CLIENT_ID,\n                clientSecret: process.env.GOOGLE_CLIENT_SECRET\n            })\n        ] : []\n    ],\n    callbacks: {\n        async signIn ({ user, account, profile, email, credentials }) {\n            try {\n                if (true) {\n                    console.log(' Sign in callback triggered:', {\n                        provider: account?.provider,\n                        email: user?.email\n                    });\n                }\n                // For OAuth providers (Google only now), handle parent authentication\n                if (account?.provider === 'google') {\n                    // Check if user exists in the User table\n                    const existingUser = await (0,_auth_prisma__WEBPACK_IMPORTED_MODULE_3__.findUserByEmail)(user.email);\n                    if (existingUser) {\n                        // If user exists as teacher/admin (non-PARENT role), prevent OAuth login\n                        // Teachers and admins must use credentials login only\n                        if (existingUser.role !== 'PARENT') {\n                            if (true) {\n                                console.log(' OAuth blocked for non-parent user:', existingUser.role);\n                            }\n                            return false;\n                        }\n                        // If existing PARENT user, allow login\n                        user.role = existingUser.role;\n                        user.id = existingUser.id;\n                        user.needsRegistration = false;\n                    } else {\n                        // New OAuth user - they will need to complete parent registration\n                        user.role = 'PARENT';\n                        user.needsRegistration = true;\n                    }\n                }\n                // For credentials login, user object is already populated by the authorize function\n                if (true) {\n                    console.log(' Sign in successful for user:', user?.email, 'role:', user?.role);\n                }\n                return true;\n            } catch (error) {\n                console.error(' Sign in callback error:', error);\n                return false;\n            }\n        },\n        async jwt ({ token, user }) {\n            // Persist user data to token on sign in\n            if (user) {\n                token.role = user.role;\n                token.id = user.id;\n                token.needsRegistration = user.needsRegistration;\n                token.isOAuthUser = user.isOAuthUser;\n                if (true) {\n                    console.log(' JWT Callback - User role:', user.role, 'Token role:', token.role);\n                }\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            // Send properties to the client\n            if (token) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n                session.user.needsRegistration = token.needsRegistration;\n                session.user.isOAuthUser = token.isOAuthUser;\n                if (true) {\n                    console.log(' Session Callback - Token role:', token.role, 'Session role:', session.user.role);\n                }\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: '/login',\n        error: '/login'\n    },\n    events: {\n        async signIn (message) {\n            if (true) {\n                console.log(' Sign in event:', message);\n            }\n        },\n        async signOut (message) {\n            if (true) {\n                console.log(' Sign out event:', message);\n            }\n        }\n    }\n};\nconst { handlers, auth, signIn, signOut } = (0,next_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(authOptions);\nconst { GET, POST } = handlers;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUMscUJBQXFCdEI7WUFDbkM7UUFDRjtRQUNBLE1BQU0rQixTQUFRL0IsT0FBTztZQUNuQixJQUFJakIsSUFBc0MsRUFBRTtnQkFDMUNzQyxRQUFRQyxHQUFHLENBQUMsc0JBQXNCdEI7WUFDcEM7UUFDRjtJQUNGO0FBQ0YsRUFBRTtBQUVLLE1BQU0sRUFBRWdDLFFBQVEsRUFBRUMsSUFBSSxFQUFFZixNQUFNLEVBQUVhLE9BQU8sRUFBRSxHQUFHNUQscURBQVFBLENBQUNtQixhQUFhO0FBQ2xFLE1BQU0sRUFBRTRDLEdBQUcsRUFBRUMsSUFBSSxFQUFFLEdBQUdILFNBQVMiLCJzb3VyY2VzIjpbIi9tbnQvU2Vjb25kYXJ5L1Byb2plY3RzL1dlYnNpdGVzL1NjaG9vbHMvTWFuaXRvcyBQaW50YWRhcyBTUUwvc3JjL2xpYi9hdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCwgeyB0eXBlIE5leHRBdXRoQ29uZmlnIH0gZnJvbSAnbmV4dC1hdXRoJztcbmltcG9ydCBDcmVkZW50aWFscyBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCBHb29nbGUgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGUnO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlVXNlciwgZmluZFVzZXJCeUVtYWlsIH0gZnJvbSAnLi9hdXRoLXByaXNtYSc7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5cbmNvbnN0IGxvZ2dlciA9IExvZ2dlci5nZXRJbnN0YW5jZSgnQXV0aGVudGljYXRpb24nKTtcblxudHlwZSBVc2VyUm9sZSA9ICdNQVNURVInIHwgJ0FETUlOJyB8ICdQUk9GRVNPUicgfCAnUEFSRU5UJyB8ICdQVUJMSUMnO1xuXG4vLyBWYWxpZGF0ZSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbmNvbnN0IHZhbGlkYXRlT0F1dGhDb25maWcgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICBnb29nbGU6IHtcbiAgICAgIGVuYWJsZWQ6XG4gICAgICAgICEhcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCAmJiAhIXByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVULFxuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSUQsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVULFxuICAgIH0sXG4gIH07XG5cbiAgLy8gT0F1dGggY29uZmlndXJhdGlvbiB2YWxpZGF0aW9uIChkZXZlbG9wbWVudCBjb250ZXh0KVxuXG4gIHJldHVybiBjb25maWc7XG59O1xuXG5jb25zdCBvYXV0aENvbmZpZyA9IHZhbGlkYXRlT0F1dGhDb25maWcoKTtcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aENvbmZpZyA9IHtcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiAnand0JyBhcyBjb25zdCxcbiAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCwgLy8gMjQgaG91cnNcbiAgICB1cGRhdGVBZ2U6IDYwICogNjAsIC8vIFVwZGF0ZSBzZXNzaW9uIGV2ZXJ5IGhvdXIgdG8gcHJldmVudCBleHBpcmF0aW9uXG4gIH0sXG4gIHRydXN0SG9zdDogdHJ1ZSxcbiAgZGVidWc6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnLFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcbiAgbG9nZ2VyOiB7XG4gICAgZXJyb3IoZXJyb3I6IEVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ05leHRBdXRoIEVycm9yJywgeyBlcnJvcjogZXJyb3IubWVzc2FnZSwgc3RhY2s6IGVycm9yLnN0YWNrIH0pO1xuICAgIH0sXG4gICAgd2Fybihjb2RlOiBzdHJpbmcpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdOZXh0QXV0aCBXYXJuaW5nJywgeyBjb2RlIH0pO1xuICAgIH0sXG4gICAgZGVidWcoY29kZTogc3RyaW5nLCBtZXRhZGF0YT86IHVua25vd24pIHtcbiAgICAgIC8vIE9ubHkgbG9nIGRlYnVnIGluZm8gaW4gZGV2ZWxvcG1lbnRcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBsb2dnZXIuZGVidWcoJ05leHRBdXRoIERlYnVnJywgeyBjb2RlLCBtZXRhZGF0YSB9KTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBwcm92aWRlcnM6IFtcbiAgICBDcmVkZW50aWFscyh7XG4gICAgICBuYW1lOiAnY3JlZGVudGlhbHMnLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfSxcbiAgICAgIH0sXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgaWYgKCFjcmVkZW50aWFscz8uZW1haWwgfHwgIWNyZWRlbnRpYWxzPy5wYXNzd29yZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nZ2VyLmluZm8oJ0F1dGhlbnRpY2F0aW9uIGF0dGVtcHQnLCB7IGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCB9KTtcblxuICAgICAgICAvLyBVc2UgUHJpc21hIGF1dGhlbnRpY2F0aW9uIGluIE5vZGUuanMgcnVudGltZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGVVc2VyKFxuICAgICAgICAgICAgY3JlZGVudGlhbHMuZW1haWwgYXMgc3RyaW5nLFxuICAgICAgICAgICAgY3JlZGVudGlhbHMucGFzc3dvcmQgYXMgc3RyaW5nXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcsIHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbG9nZ2VyLmluZm8oJ0F1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWwnLCB7XG4gICAgICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwsXG4gICAgICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGVycm9yJywge1xuICAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsLFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSksXG4gICAgLi4uKG9hdXRoQ29uZmlnLmdvb2dsZS5lbmFibGVkXG4gICAgICA/IFtcbiAgICAgICAgICBHb29nbGUoe1xuICAgICAgICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSUQhLFxuICAgICAgICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCEsXG4gICAgICAgICAgfSksXG4gICAgICAgIF1cbiAgICAgIDogW10pLFxuICBdLFxuICBjYWxsYmFja3M6IHtcbiAgICBhc3luYyBzaWduSW4oeyB1c2VyLCBhY2NvdW50LCBwcm9maWxlLCBlbWFpbCwgY3JlZGVudGlhbHMgfTogYW55KSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkCBTaWduIGluIGNhbGxiYWNrIHRyaWdnZXJlZDonLCB7IHByb3ZpZGVyOiBhY2NvdW50Py5wcm92aWRlciwgZW1haWw6IHVzZXI/LmVtYWlsIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIE9BdXRoIHByb3ZpZGVycyAoR29vZ2xlIG9ubHkgbm93KSwgaGFuZGxlIHBhcmVudCBhdXRoZW50aWNhdGlvblxuICAgICAgICBpZiAoYWNjb3VudD8ucHJvdmlkZXIgPT09ICdnb29nbGUnKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBleGlzdHMgaW4gdGhlIFVzZXIgdGFibGVcbiAgICAgICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBmaW5kVXNlckJ5RW1haWwodXNlci5lbWFpbCEpO1xuXG4gICAgICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICAgICAgLy8gSWYgdXNlciBleGlzdHMgYXMgdGVhY2hlci9hZG1pbiAobm9uLVBBUkVOVCByb2xlKSwgcHJldmVudCBPQXV0aCBsb2dpblxuICAgICAgICAgICAgLy8gVGVhY2hlcnMgYW5kIGFkbWlucyBtdXN0IHVzZSBjcmVkZW50aWFscyBsb2dpbiBvbmx5XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdVc2VyLnJvbGUgIT09ICdQQVJFTlQnKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgT0F1dGggYmxvY2tlZCBmb3Igbm9uLXBhcmVudCB1c2VyOicsIGV4aXN0aW5nVXNlci5yb2xlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGV4aXN0aW5nIFBBUkVOVCB1c2VyLCBhbGxvdyBsb2dpblxuICAgICAgICAgICAgdXNlci5yb2xlID0gZXhpc3RpbmdVc2VyLnJvbGU7XG4gICAgICAgICAgICB1c2VyLmlkID0gZXhpc3RpbmdVc2VyLmlkO1xuICAgICAgICAgICAgdXNlci5uZWVkc1JlZ2lzdHJhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOZXcgT0F1dGggdXNlciAtIHRoZXkgd2lsbCBuZWVkIHRvIGNvbXBsZXRlIHBhcmVudCByZWdpc3RyYXRpb25cbiAgICAgICAgICAgIHVzZXIucm9sZSA9ICdQQVJFTlQnO1xuICAgICAgICAgICAgdXNlci5uZWVkc1JlZ2lzdHJhdGlvbiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIGNyZWRlbnRpYWxzIGxvZ2luLCB1c2VyIG9iamVjdCBpcyBhbHJlYWR5IHBvcHVsYXRlZCBieSB0aGUgYXV0aG9yaXplIGZ1bmN0aW9uXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU2lnbiBpbiBzdWNjZXNzZnVsIGZvciB1c2VyOicsIHVzZXI/LmVtYWlsLCAncm9sZTonLCB1c2VyPy5yb2xlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTaWduIGluIGNhbGxiYWNrIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9OiBhbnkpIHtcbiAgICAgIC8vIFBlcnNpc3QgdXNlciBkYXRhIHRvIHRva2VuIG9uIHNpZ24gaW5cbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnJvbGUgPSB1c2VyLnJvbGU7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZDtcbiAgICAgICAgdG9rZW4ubmVlZHNSZWdpc3RyYXRpb24gPSB1c2VyLm5lZWRzUmVnaXN0cmF0aW9uO1xuICAgICAgICB0b2tlbi5pc09BdXRoVXNlciA9IHVzZXIuaXNPQXV0aFVzZXI7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SRIEpXVCBDYWxsYmFjayAtIFVzZXIgcm9sZTonLCB1c2VyLnJvbGUsICdUb2tlbiByb2xlOicsIHRva2VuLnJvbGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcblxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9OiBhbnkpIHtcbiAgICAgIC8vIFNlbmQgcHJvcGVydGllcyB0byB0aGUgY2xpZW50XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQgYXMgc3RyaW5nO1xuICAgICAgICBzZXNzaW9uLnVzZXIucm9sZSA9IHRva2VuLnJvbGUgYXMgVXNlclJvbGU7XG4gICAgICAgIHNlc3Npb24udXNlci5uZWVkc1JlZ2lzdHJhdGlvbiA9IHRva2VuLm5lZWRzUmVnaXN0cmF0aW9uO1xuICAgICAgICBzZXNzaW9uLnVzZXIuaXNPQXV0aFVzZXIgPSB0b2tlbi5pc09BdXRoVXNlcjtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgU2Vzc2lvbiBDYWxsYmFjayAtIFRva2VuIHJvbGU6JywgdG9rZW4ucm9sZSwgJ1Nlc3Npb24gcm9sZTonLCBzZXNzaW9uLnVzZXIucm9sZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH0sXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiAnL2xvZ2luJyxcbiAgICBlcnJvcjogJy9sb2dpbicsXG4gIH0sXG4gIGV2ZW50czoge1xuICAgIGFzeW5jIHNpZ25JbihtZXNzYWdlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflJAgU2lnbiBpbiBldmVudDonLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHNpZ25PdXQobWVzc2FnZSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qqIFNpZ24gb3V0IGV2ZW50OicsIG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgeyBoYW5kbGVycywgYXV0aCwgc2lnbkluLCBzaWduT3V0IH0gPSBOZXh0QXV0aChhdXRoT3B0aW9ucyk7XG5leHBvcnQgY29uc3QgeyBHRVQsIFBPU1QgfSA9IGhhbmRsZXJzO1xuXG5kZWNsYXJlIG1vZHVsZSAnbmV4dC1hdXRoJyB7XG4gIGludGVyZmFjZSBVc2VyIHtcbiAgICByb2xlOiBVc2VyUm9sZTtcbiAgICBpZDogc3RyaW5nO1xuICAgIHByb3ZpZGVyPzogc3RyaW5nO1xuICAgIG5lZWRzUmVnaXN0cmF0aW9uPzogYm9vbGVhbjtcbiAgICBpc09BdXRoVXNlcj86IGJvb2xlYW47XG4gIH1cblxuICBpbnRlcmZhY2UgU2Vzc2lvbiB7XG4gICAgdXNlcjoge1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGltYWdlPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHJvbGU6IFVzZXJSb2xlO1xuICAgICAgcHJvdmlkZXI/OiBzdHJpbmc7XG4gICAgICBuZWVkc1JlZ2lzdHJhdGlvbj86IGJvb2xlYW47XG4gICAgICBpc09BdXRoVXNlcj86IGJvb2xlYW47XG4gICAgfTtcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGF1dGgvY29yZS9qd3QnIHtcbiAgaW50ZXJmYWNlIEpXVCB7XG4gICAgcm9sZTogVXNlclJvbGU7XG4gICAgaWQ6IHN0cmluZztcbiAgICBwcm92aWRlcj86IHN0cmluZztcbiAgICBuZWVkc1JlZ2lzdHJhdGlvbj86IGJvb2xlYW47XG4gICAgaXNPQXV0aFVzZXI/OiBib29sZWFuO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJDcmVkZW50aWFscyIsIkdvb2dsZSIsImF1dGhlbnRpY2F0ZVVzZXIiLCJmaW5kVXNlckJ5RW1haWwiLCJMb2dnZXIiLCJsb2dnZXIiLCJnZXRJbnN0YW5jZSIsInZhbGlkYXRlT0F1dGhDb25maWciLCJjb25maWciLCJnb29nbGUiLCJlbmFibGVkIiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9DTElFTlRfSUQiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsImNsaWVudElkIiwiY2xpZW50U2VjcmV0Iiwib2F1dGhDb25maWciLCJhdXRoT3B0aW9ucyIsInNlc3Npb24iLCJzdHJhdGVneSIsIm1heEFnZSIsInVwZGF0ZUFnZSIsInRydXN0SG9zdCIsImRlYnVnIiwic2VjcmV0IiwiTkVYVEFVVEhfU0VDUkVUIiwiZXJyb3IiLCJtZXNzYWdlIiwic3RhY2siLCJ3YXJuIiwiY29kZSIsIm1ldGFkYXRhIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsImluZm8iLCJ1c2VyIiwicm9sZSIsImlkIiwiY2FsbGJhY2tzIiwic2lnbkluIiwiYWNjb3VudCIsInByb2ZpbGUiLCJjb25zb2xlIiwibG9nIiwicHJvdmlkZXIiLCJleGlzdGluZ1VzZXIiLCJuZWVkc1JlZ2lzdHJhdGlvbiIsImp3dCIsInRva2VuIiwiaXNPQXV0aFVzZXIiLCJwYWdlcyIsImV2ZW50cyIsInNpZ25PdXQiLCJoYW5kbGVycyIsImF1dGgiLCJHRVQiLCJQT1NUIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/crypto.ts":
/*!***************************!*\
  !*** ./src/lib/crypto.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateSecureToken: () => (/* binding */ generateSecureToken),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword)\n/* harmony export */ });\n// Edge Runtime compatible crypto using Web Crypto API\n// bcryptjs is only used in Node.js environment\n// Edge-compatible password hashing using PBKDF2\nasync function hashPasswordEdge(password) {\n    const encoder = new TextEncoder();\n    const salt = crypto.getRandomValues(new Uint8Array(16));\n    const keyMaterial = await crypto.subtle.importKey('raw', encoder.encode(password), {\n        name: 'PBKDF2'\n    }, false, [\n        'deriveBits'\n    ]);\n    const derivedBits = await crypto.subtle.deriveBits({\n        name: 'PBKDF2',\n        salt: salt,\n        iterations: 100000,\n        hash: 'SHA-256'\n    }, keyMaterial, 256);\n    const hash = new Uint8Array(derivedBits);\n    const combined = new Uint8Array(salt.length + hash.length);\n    combined.set(salt);\n    combined.set(hash, salt.length);\n    return btoa(String.fromCharCode(...combined));\n}\n// Edge-compatible password verification\nasync function verifyPasswordEdge(password, hash) {\n    try {\n        const combined = new Uint8Array(atob(hash).split('').map((char)=>char.charCodeAt(0)));\n        const salt = combined.slice(0, 16);\n        const storedHash = combined.slice(16);\n        const encoder = new TextEncoder();\n        const keyMaterial = await crypto.subtle.importKey('raw', encoder.encode(password), {\n            name: 'PBKDF2'\n        }, false, [\n            'deriveBits'\n        ]);\n        const derivedBits = await crypto.subtle.deriveBits({\n            name: 'PBKDF2',\n            salt: salt,\n            iterations: 100000,\n            hash: 'SHA-256'\n        }, keyMaterial, 256);\n        const computedHash = new Uint8Array(derivedBits);\n        // Constant-time comparison\n        if (storedHash.length !== computedHash.length) {\n            return false;\n        }\n        let result = 0;\n        for(let i = 0; i < storedHash.length; i++){\n            result |= storedHash[i] ^ computedHash[i];\n        }\n        return result === 0;\n    } catch  {\n        return false;\n    }\n}\n// Node.js compatible password hashing\nasync function hashPasswordNode(password) {\n    const saltRounds = 10;\n    // Dynamic import to avoid Edge Runtime issues\n    const bcrypt = await __webpack_require__.e(/*! import() */ \"vendor-chunks/bcryptjs\").then(__webpack_require__.bind(__webpack_require__, /*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\"));\n    return await bcrypt.default.hash(password, saltRounds);\n}\n// Node.js compatible password verification\nasync function verifyPasswordNode(password, hash) {\n    // Dynamic import to avoid Edge Runtime issues\n    const bcrypt = await __webpack_require__.e(/*! import() */ \"vendor-chunks/bcryptjs\").then(__webpack_require__.bind(__webpack_require__, /*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\"));\n    return await bcrypt.default.compare(password, hash);\n}\n// Export functions that work in both environments\nasync function hashPassword(password) {\n    if (typeof crypto !== 'undefined' && crypto.subtle) {\n        // Edge Runtime or browser environment\n        return await hashPasswordEdge(password);\n    } else {\n        // Node.js environment\n        return await hashPasswordNode(password);\n    }\n}\nasync function verifyPassword(password, hash) {\n    // Check if hash is bcrypt format (starts with $2a$, $2b$, $2x$ or $2y$)\n    const isBcryptHash = /^\\$2[abyxz]\\$/.test(hash);\n    if (isBcryptHash) {\n        // Always use Node.js bcryptjs for bcrypt hashes\n        return await verifyPasswordNode(password, hash);\n    } else if (typeof crypto !== 'undefined' && crypto.subtle) {\n        // Edge Runtime or browser environment for PBKDF2 hashes\n        return await verifyPasswordEdge(password, hash);\n    } else {\n        // Node.js environment for non-bcrypt hashes\n        return await verifyPasswordNode(password, hash);\n    }\n}\nfunction generateSecureToken() {\n    // Generate a secure random token for email verification\n    if (typeof crypto !== 'undefined' && crypto.getRandomValues) {\n        // Browser/Edge environment\n        const array = new Uint8Array(32);\n        crypto.getRandomValues(array);\n        return Array.from(array, (byte)=>byte.toString(16).padStart(2, '0')).join('');\n    }\n    // Node.js environment using Web Crypto API if available\n    if (typeof globalThis !== 'undefined' && globalThis.crypto?.getRandomValues) {\n        const array = new Uint8Array(32);\n        globalThis.crypto.getRandomValues(array);\n        return Array.from(array, (byte)=>byte.toString(16).padStart(2, '0')).join('');\n    }\n    // Fallback (very unlikely)\n    const array = new Uint8Array(32);\n    for(let i = 0; i < array.length; i++){\n        array[i] = Math.floor(Math.random() * 256);\n    }\n    return Array.from(array, (byte)=>byte.toString(16).padStart(2, '0')).join('');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SXRDLFdBQVc7SUFDN0IsSUFBSyxJQUFJMEIsSUFBSSxHQUFHQSxJQUFJWSxNQUFNM0IsTUFBTSxFQUFFZSxJQUFLO1FBQ3JDWSxLQUFLLENBQUNaLEVBQUUsR0FBR29CLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLO0lBQ3hDO0lBQ0EsT0FBT1QsTUFBTUMsSUFBSSxDQUFDRixPQUFPRyxDQUFBQSxPQUFRQSxLQUFLQyxRQUFRLENBQUMsSUFBSUMsUUFBUSxDQUFDLEdBQUcsTUFBTUMsSUFBSSxDQUFDO0FBQzVFIiwic291cmNlcyI6WyIvbW50L1NlY29uZGFyeS9Qcm9qZWN0cy9XZWJzaXRlcy9TY2hvb2xzL01hbml0b3MgUGludGFkYXMgU1FML3NyYy9saWIvY3J5cHRvLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEVkZ2UgUnVudGltZSBjb21wYXRpYmxlIGNyeXB0byB1c2luZyBXZWIgQ3J5cHRvIEFQSVxuLy8gYmNyeXB0anMgaXMgb25seSB1c2VkIGluIE5vZGUuanMgZW52aXJvbm1lbnRcblxuLy8gRWRnZS1jb21wYXRpYmxlIHBhc3N3b3JkIGhhc2hpbmcgdXNpbmcgUEJLREYyXG5hc3luYyBmdW5jdGlvbiBoYXNoUGFzc3dvcmRFZGdlKHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gIGNvbnN0IHNhbHQgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDE2KSk7XG4gIGNvbnN0IGtleU1hdGVyaWFsID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgJ3JhdycsXG4gICAgZW5jb2Rlci5lbmNvZGUocGFzc3dvcmQpLFxuICAgIHsgbmFtZTogJ1BCS0RGMicgfSxcbiAgICBmYWxzZSxcbiAgICBbJ2Rlcml2ZUJpdHMnXVxuICApO1xuXG4gIGNvbnN0IGRlcml2ZWRCaXRzID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kZXJpdmVCaXRzKFxuICAgIHtcbiAgICAgIG5hbWU6ICdQQktERjInLFxuICAgICAgc2FsdDogc2FsdCxcbiAgICAgIGl0ZXJhdGlvbnM6IDEwMDAwMCxcbiAgICAgIGhhc2g6ICdTSEEtMjU2JyxcbiAgICB9LFxuICAgIGtleU1hdGVyaWFsLFxuICAgIDI1NlxuICApO1xuXG4gIGNvbnN0IGhhc2ggPSBuZXcgVWludDhBcnJheShkZXJpdmVkQml0cyk7XG4gIGNvbnN0IGNvbWJpbmVkID0gbmV3IFVpbnQ4QXJyYXkoc2FsdC5sZW5ndGggKyBoYXNoLmxlbmd0aCk7XG4gIGNvbWJpbmVkLnNldChzYWx0KTtcbiAgY29tYmluZWQuc2V0KGhhc2gsIHNhbHQubGVuZ3RoKTtcblxuICByZXR1cm4gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLmNvbWJpbmVkKSk7XG59XG5cbi8vIEVkZ2UtY29tcGF0aWJsZSBwYXNzd29yZCB2ZXJpZmljYXRpb25cbmFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBhc3N3b3JkRWRnZShcbiAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgaGFzaDogc3RyaW5nXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb21iaW5lZCA9IG5ldyBVaW50OEFycmF5KFxuICAgICAgYXRvYihoYXNoKVxuICAgICAgICAuc3BsaXQoJycpXG4gICAgICAgIC5tYXAoY2hhciA9PiBjaGFyLmNoYXJDb2RlQXQoMCkpXG4gICAgKTtcblxuICAgIGNvbnN0IHNhbHQgPSBjb21iaW5lZC5zbGljZSgwLCAxNik7XG4gICAgY29uc3Qgc3RvcmVkSGFzaCA9IGNvbWJpbmVkLnNsaWNlKDE2KTtcblxuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICBjb25zdCBrZXlNYXRlcmlhbCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFxuICAgICAgJ3JhdycsXG4gICAgICBlbmNvZGVyLmVuY29kZShwYXNzd29yZCksXG4gICAgICB7IG5hbWU6ICdQQktERjInIH0sXG4gICAgICBmYWxzZSxcbiAgICAgIFsnZGVyaXZlQml0cyddXG4gICAgKTtcblxuICAgIGNvbnN0IGRlcml2ZWRCaXRzID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kZXJpdmVCaXRzKFxuICAgICAge1xuICAgICAgICBuYW1lOiAnUEJLREYyJyxcbiAgICAgICAgc2FsdDogc2FsdCxcbiAgICAgICAgaXRlcmF0aW9uczogMTAwMDAwLFxuICAgICAgICBoYXNoOiAnU0hBLTI1NicsXG4gICAgICB9LFxuICAgICAga2V5TWF0ZXJpYWwsXG4gICAgICAyNTZcbiAgICApO1xuXG4gICAgY29uc3QgY29tcHV0ZWRIYXNoID0gbmV3IFVpbnQ4QXJyYXkoZGVyaXZlZEJpdHMpO1xuXG4gICAgLy8gQ29uc3RhbnQtdGltZSBjb21wYXJpc29uXG4gICAgaWYgKHN0b3JlZEhhc2gubGVuZ3RoICE9PSBjb21wdXRlZEhhc2gubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9yZWRIYXNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHQgfD0gc3RvcmVkSGFzaFtpXSBeIGNvbXB1dGVkSGFzaFtpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0ID09PSAwO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gTm9kZS5qcyBjb21wYXRpYmxlIHBhc3N3b3JkIGhhc2hpbmdcbmFzeW5jIGZ1bmN0aW9uIGhhc2hQYXNzd29yZE5vZGUocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcbiAgLy8gRHluYW1pYyBpbXBvcnQgdG8gYXZvaWQgRWRnZSBSdW50aW1lIGlzc3Vlc1xuICBjb25zdCBiY3J5cHQgPSBhd2FpdCBpbXBvcnQoJ2JjcnlwdGpzJyk7XG4gIHJldHVybiBhd2FpdCBiY3J5cHQuZGVmYXVsdC5oYXNoKHBhc3N3b3JkLCBzYWx0Um91bmRzKTtcbn1cblxuLy8gTm9kZS5qcyBjb21wYXRpYmxlIHBhc3N3b3JkIHZlcmlmaWNhdGlvblxuYXN5bmMgZnVuY3Rpb24gdmVyaWZ5UGFzc3dvcmROb2RlKFxuICBwYXNzd29yZDogc3RyaW5nLFxuICBoYXNoOiBzdHJpbmdcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAvLyBEeW5hbWljIGltcG9ydCB0byBhdm9pZCBFZGdlIFJ1bnRpbWUgaXNzdWVzXG4gIGNvbnN0IGJjcnlwdCA9IGF3YWl0IGltcG9ydCgnYmNyeXB0anMnKTtcbiAgcmV0dXJuIGF3YWl0IGJjcnlwdC5kZWZhdWx0LmNvbXBhcmUocGFzc3dvcmQsIGhhc2gpO1xufVxuXG4vLyBFeHBvcnQgZnVuY3Rpb25zIHRoYXQgd29yayBpbiBib3RoIGVudmlyb25tZW50c1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhc2hQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5zdWJ0bGUpIHtcbiAgICAvLyBFZGdlIFJ1bnRpbWUgb3IgYnJvd3NlciBlbnZpcm9ubWVudFxuICAgIHJldHVybiBhd2FpdCBoYXNoUGFzc3dvcmRFZGdlKHBhc3N3b3JkKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBOb2RlLmpzIGVudmlyb25tZW50XG4gICAgcmV0dXJuIGF3YWl0IGhhc2hQYXNzd29yZE5vZGUocGFzc3dvcmQpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXNzd29yZChcbiAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgaGFzaDogc3RyaW5nXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgLy8gQ2hlY2sgaWYgaGFzaCBpcyBiY3J5cHQgZm9ybWF0IChzdGFydHMgd2l0aCAkMmEkLCAkMmIkLCAkMngkIG9yICQyeSQpXG4gIGNvbnN0IGlzQmNyeXB0SGFzaCA9IC9eXFwkMlthYnl4el1cXCQvLnRlc3QoaGFzaCk7XG5cbiAgaWYgKGlzQmNyeXB0SGFzaCkge1xuICAgIC8vIEFsd2F5cyB1c2UgTm9kZS5qcyBiY3J5cHRqcyBmb3IgYmNyeXB0IGhhc2hlc1xuICAgIHJldHVybiBhd2FpdCB2ZXJpZnlQYXNzd29yZE5vZGUocGFzc3dvcmQsIGhhc2gpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5zdWJ0bGUpIHtcbiAgICAvLyBFZGdlIFJ1bnRpbWUgb3IgYnJvd3NlciBlbnZpcm9ubWVudCBmb3IgUEJLREYyIGhhc2hlc1xuICAgIHJldHVybiBhd2FpdCB2ZXJpZnlQYXNzd29yZEVkZ2UocGFzc3dvcmQsIGhhc2gpO1xuICB9IGVsc2Uge1xuICAgIC8vIE5vZGUuanMgZW52aXJvbm1lbnQgZm9yIG5vbi1iY3J5cHQgaGFzaGVzXG4gICAgcmV0dXJuIGF3YWl0IHZlcmlmeVBhc3N3b3JkTm9kZShwYXNzd29yZCwgaGFzaCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlU2VjdXJlVG9rZW4oKTogc3RyaW5nIHtcbiAgLy8gR2VuZXJhdGUgYSBzZWN1cmUgcmFuZG9tIHRva2VuIGZvciBlbWFpbCB2ZXJpZmljYXRpb25cbiAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBCcm93c2VyL0VkZ2UgZW52aXJvbm1lbnRcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycmF5KTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhcnJheSwgYnl0ZSA9PiBieXRlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKFxuICAgICAgJydcbiAgICApO1xuICB9XG4gIC8vIE5vZGUuanMgZW52aXJvbm1lbnQgdXNpbmcgV2ViIENyeXB0byBBUEkgaWYgYXZhaWxhYmxlXG4gIGlmIChcbiAgICB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAoZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHsgY3J5cHRvPzogQ3J5cHRvIH0pLmNyeXB0bz8uZ2V0UmFuZG9tVmFsdWVzXG4gICkge1xuICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICAgIChnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgeyBjcnlwdG86IENyeXB0byB9KS5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycmF5KTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhcnJheSwgYnl0ZSA9PiBieXRlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKFxuICAgICAgJydcbiAgICApO1xuICB9XG4gIC8vIEZhbGxiYWNrICh2ZXJ5IHVubGlrZWx5KVxuICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KTtcbiAgfVxuICByZXR1cm4gQXJyYXkuZnJvbShhcnJheSwgYnl0ZSA9PiBieXRlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTtcbn1cbiJdLCJuYW1lcyI6WyJoYXNoUGFzc3dvcmRFZGdlIiwicGFzc3dvcmQiLCJlbmNvZGVyIiwiVGV4dEVuY29kZXIiLCJzYWx0IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiVWludDhBcnJheSIsImtleU1hdGVyaWFsIiwic3VidGxlIiwiaW1wb3J0S2V5IiwiZW5jb2RlIiwibmFtZSIsImRlcml2ZWRCaXRzIiwiZGVyaXZlQml0cyIsIml0ZXJhdGlvbnMiLCJoYXNoIiwiY29tYmluZWQiLCJsZW5ndGgiLCJzZXQiLCJidG9hIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwidmVyaWZ5UGFzc3dvcmRFZGdlIiwiYXRvYiIsInNwbGl0IiwibWFwIiwiY2hhciIsImNoYXJDb2RlQXQiLCJzbGljZSIsInN0b3JlZEhhc2giLCJjb21wdXRlZEhhc2giLCJyZXN1bHQiLCJpIiwiaGFzaFBhc3N3b3JkTm9kZSIsInNhbHRSb3VuZHMiLCJiY3J5cHQiLCJkZWZhdWx0IiwidmVyaWZ5UGFzc3dvcmROb2RlIiwiY29tcGFyZSIsImhhc2hQYXNzd29yZCIsInZlcmlmeVBhc3N3b3JkIiwiaXNCY3J5cHRIYXNoIiwidGVzdCIsImdlbmVyYXRlU2VjdXJlVG9rZW4iLCJhcnJheSIsIkFycmF5IiwiZnJvbSIsImJ5dGUiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwiam9pbiIsImdsb2JhbFRoaXMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/crypto.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkDatabaseConnection: () => (/* binding */ checkDatabaseConnection),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\n// Production-safe singleton pattern for all environments\nconst globalForPrisma = globalThis;\n// Create single client instance with optimized production configuration\nconst createPrismaClient = ()=>{\n    const client = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n        log:  true ? [\n            'query',\n            'error',\n            'warn'\n        ] : 0,\n        datasources: {\n            db: {\n                url: process.env.DATABASE_URL\n            }\n        },\n        // Configure connection pooling properly\n        ... false && 0\n    });\n    // Add query performance monitoring using Prisma Client Extension\n    const extendedClient = client.$extends({\n        query: {\n            $allModels: {\n                async $allOperations ({ model, operation, args, query }) {\n                    const before = Date.now();\n                    const result = await query(args);\n                    const after = Date.now();\n                    // Log slow queries in development\n                    if ( true && after - before > 1000) {\n                        console.log(` Slow Query (${after - before}ms):`, {\n                            model,\n                            operation\n                        });\n                    }\n                    return result;\n                }\n            }\n        }\n    });\n    return extendedClient;\n};\nconst prisma = globalForPrisma.prisma ?? createPrismaClient();\n// Only store globally in development to prevent memory leaks\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n// Graceful shutdown on process exit (server-side only)\nif ( true && typeof process !== 'undefined' && typeof process.on === 'function') {\n    const gracefulShutdown = async ()=>{\n        console.log(' Graceful Prisma shutdown...');\n        try {\n            await prisma.$disconnect();\n            console.log(' Prisma disconnected successfully');\n        } catch (error) {\n            console.error(' Error during Prisma shutdown:', error);\n        }\n    };\n    process.on('SIGTERM', gracefulShutdown);\n    process.on('SIGINT', gracefulShutdown);\n    process.on('beforeExit', gracefulShutdown);\n}\n// Health check helper\nconst checkDatabaseConnection = async ()=>{\n    try {\n        await prisma.$queryRaw`SELECT 1`;\n        return true;\n    } catch (error) {\n        console.error('Database connection failed:', error);\n        return false;\n    }\n};\n// Consistent exports for all import patterns\nconst db = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4QztBQUU5Qyx5REFBeUQ7QUFDekQsTUFBTUMsa0JBQWtCQztBQUl4Qix3RUFBd0U7QUFDeEUsTUFBTUMscUJBQXFCO0lBQ3pCLE1BQU1DLFNBQVMsSUFBSUosd0RBQVlBLENBQUM7UUFDOUJLLEtBQUtDLEtBQXNDLEdBQ3ZDO1lBQUM7WUFBUztZQUFTO1NBQU8sR0FDMUIsQ0FBUztRQUNiQyxhQUFhO1lBQ1hDLElBQUk7Z0JBQ0ZDLEtBQUtILFFBQVFJLEdBQUcsQ0FBQ0MsWUFBWTtZQUMvQjtRQUNGO1FBQ0Esd0NBQXdDO1FBQ3hDLEdBQUlMLE1BQXFDLElBQUksQ0FJNUM7SUFDSDtJQUVBLGlFQUFpRTtJQUNqRSxNQUFNTyxpQkFBaUJULE9BQU9VLFFBQVEsQ0FBQztRQUNyQ0MsT0FBTztZQUNMQyxZQUFZO2dCQUNWLE1BQU1DLGdCQUFlLEVBQUVDLEtBQUssRUFBRUMsU0FBUyxFQUFFQyxJQUFJLEVBQUVMLEtBQUssRUFBRTtvQkFDcEQsTUFBTU0sU0FBU0MsS0FBS0MsR0FBRztvQkFDdkIsTUFBTUMsU0FBUyxNQUFNVCxNQUFNSztvQkFDM0IsTUFBTUssUUFBUUgsS0FBS0MsR0FBRztvQkFFdEIsa0NBQWtDO29CQUNsQyxJQUFJakIsS0FBc0MsSUFBSW1CLFFBQVFKLFNBQVMsTUFBTTt3QkFDbkVLLFFBQVFyQixHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUVvQixRQUFRSixPQUFPLElBQUksQ0FBQyxFQUFFOzRCQUNsREg7NEJBQ0FDO3dCQUNGO29CQUNGO29CQUVBLE9BQU9LO2dCQUNUO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsT0FBT1g7QUFDVDtBQUVPLE1BQU1jLFNBQVMxQixnQkFBZ0IwQixNQUFNLElBQUl4QixxQkFBcUI7QUFFckUsNkRBQTZEO0FBQzdELElBQUlHLElBQXFDLEVBQUU7SUFDekNMLGdCQUFnQjBCLE1BQU0sR0FBR0E7QUFDM0I7QUFFQSx1REFBdUQ7QUFDdkQsSUFBSSxLQUE2QixJQUFJLE9BQU9yQixZQUFZLGVBQWUsT0FBT0EsUUFBUXNCLEVBQUUsS0FBSyxZQUFZO0lBQ3ZHLE1BQU1DLG1CQUFtQjtRQUN2QkgsUUFBUXJCLEdBQUcsQ0FBQztRQUNaLElBQUk7WUFDRixNQUFNc0IsT0FBT0csV0FBVztZQUN4QkosUUFBUXJCLEdBQUcsQ0FBQztRQUNkLEVBQUUsT0FBTzBCLE9BQU87WUFDZEwsUUFBUUssS0FBSyxDQUFDLG1DQUFtQ0E7UUFDbkQ7SUFDRjtJQUVBekIsUUFBUXNCLEVBQUUsQ0FBQyxXQUFXQztJQUN0QnZCLFFBQVFzQixFQUFFLENBQUMsVUFBVUM7SUFDckJ2QixRQUFRc0IsRUFBRSxDQUFDLGNBQWNDO0FBQzNCO0FBRUEsc0JBQXNCO0FBQ2YsTUFBTUcsMEJBQTBCO0lBQ3JDLElBQUk7UUFDRixNQUFNTCxPQUFPTSxTQUFTLENBQUMsUUFBUSxDQUFDO1FBQ2hDLE9BQU87SUFDVCxFQUFFLE9BQU9GLE9BQU87UUFDZEwsUUFBUUssS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVGLDZDQUE2QztBQUN0QyxNQUFNdkIsS0FBS21CLE9BQU87QUFDekIsaUVBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9tbnQvU2Vjb25kYXJ5L1Byb2plY3RzL1dlYnNpdGVzL1NjaG9vbHMvTWFuaXRvcyBQaW50YWRhcyBTUUwvc3JjL2xpYi9kYi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cbi8vIFByb2R1Y3Rpb24tc2FmZSBzaW5nbGV0b24gcGF0dGVybiBmb3IgYWxsIGVudmlyb25tZW50c1xuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hOiBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVQcmlzbWFDbGllbnQ+IHwgdW5kZWZpbmVkO1xufTtcblxuLy8gQ3JlYXRlIHNpbmdsZSBjbGllbnQgaW5zdGFuY2Ugd2l0aCBvcHRpbWl6ZWQgcHJvZHVjdGlvbiBjb25maWd1cmF0aW9uXG5jb25zdCBjcmVhdGVQcmlzbWFDbGllbnQgPSAoKSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IG5ldyBQcmlzbWFDbGllbnQoe1xuICAgIGxvZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCdcbiAgICAgID8gWydxdWVyeScsICdlcnJvcicsICd3YXJuJ11cbiAgICAgIDogWydlcnJvciddLFxuICAgIGRhdGFzb3VyY2VzOiB7XG4gICAgICBkYjoge1xuICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCxcbiAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBDb25maWd1cmUgY29ubmVjdGlvbiBwb29saW5nIHByb3Blcmx5XG4gICAgLi4uKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYge1xuICAgICAgLy8gUHJvZHVjdGlvbiBvcHRpbWl6YXRpb25zXG4gICAgICBlcnJvckZvcm1hdDogJ21pbmltYWwnLFxuICAgICAgLy8gTGV0IFByaXNtYSBoYW5kbGUgY29ubmVjdGlvbiBwb29saW5nIC0gZG9uJ3Qgb3ZlcnJpZGVcbiAgICB9KSxcbiAgfSk7XG5cbiAgLy8gQWRkIHF1ZXJ5IHBlcmZvcm1hbmNlIG1vbml0b3JpbmcgdXNpbmcgUHJpc21hIENsaWVudCBFeHRlbnNpb25cbiAgY29uc3QgZXh0ZW5kZWRDbGllbnQgPSBjbGllbnQuJGV4dGVuZHMoe1xuICAgIHF1ZXJ5OiB7XG4gICAgICAkYWxsTW9kZWxzOiB7XG4gICAgICAgIGFzeW5jICRhbGxPcGVyYXRpb25zKHsgbW9kZWwsIG9wZXJhdGlvbiwgYXJncywgcXVlcnkgfSkge1xuICAgICAgICAgIGNvbnN0IGJlZm9yZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoYXJncyk7XG4gICAgICAgICAgY29uc3QgYWZ0ZXIgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgICAgLy8gTG9nIHNsb3cgcXVlcmllcyBpbiBkZXZlbG9wbWVudFxuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiBhZnRlciAtIGJlZm9yZSA+IDEwMDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5CMIFNsb3cgUXVlcnkgKCR7YWZ0ZXIgLSBiZWZvcmV9bXMpOmAsIHtcbiAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBleHRlbmRlZENsaWVudDtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/IGNyZWF0ZVByaXNtYUNsaWVudCgpO1xuXG4vLyBPbmx5IHN0b3JlIGdsb2JhbGx5IGluIGRldmVsb3BtZW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hO1xufVxuXG4vLyBHcmFjZWZ1bCBzaHV0ZG93biBvbiBwcm9jZXNzIGV4aXQgKHNlcnZlci1zaWRlIG9ubHkpXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gIGNvbnN0IGdyYWNlZnVsU2h1dGRvd24gPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflIQgR3JhY2VmdWwgUHJpc21hIHNodXRkb3duLi4uJyk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHByaXNtYS4kZGlzY29ubmVjdCgpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBQcmlzbWEgZGlzY29ubmVjdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZHVyaW5nIFByaXNtYSBzaHV0ZG93bjonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIHByb2Nlc3Mub24oJ1NJR1RFUk0nLCBncmFjZWZ1bFNodXRkb3duKTtcbiAgcHJvY2Vzcy5vbignU0lHSU5UJywgZ3JhY2VmdWxTaHV0ZG93bik7XG4gIHByb2Nlc3Mub24oJ2JlZm9yZUV4aXQnLCBncmFjZWZ1bFNodXRkb3duKTtcbn1cblxuLy8gSGVhbHRoIGNoZWNrIGhlbHBlclxuZXhwb3J0IGNvbnN0IGNoZWNrRGF0YWJhc2VDb25uZWN0aW9uID0gYXN5bmMgKCk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IHByaXNtYS4kcXVlcnlSYXdgU0VMRUNUIDFgO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIENvbnNpc3RlbnQgZXhwb3J0cyBmb3IgYWxsIGltcG9ydCBwYXR0ZXJuc1xuZXhwb3J0IGNvbnN0IGRiID0gcHJpc21hO1xuZXhwb3J0IGRlZmF1bHQgcHJpc21hOyJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwiY3JlYXRlUHJpc21hQ2xpZW50IiwiY2xpZW50IiwibG9nIiwicHJvY2VzcyIsImRhdGFzb3VyY2VzIiwiZGIiLCJ1cmwiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJlcnJvckZvcm1hdCIsImV4dGVuZGVkQ2xpZW50IiwiJGV4dGVuZHMiLCJxdWVyeSIsIiRhbGxNb2RlbHMiLCIkYWxsT3BlcmF0aW9ucyIsIm1vZGVsIiwib3BlcmF0aW9uIiwiYXJncyIsImJlZm9yZSIsIkRhdGUiLCJub3ciLCJyZXN1bHQiLCJhZnRlciIsImNvbnNvbGUiLCJwcmlzbWEiLCJvbiIsImdyYWNlZnVsU2h1dGRvd24iLCIkZGlzY29ubmVjdCIsImVycm9yIiwiY2hlY2tEYXRhYmFzZUNvbm5lY3Rpb24iLCIkcXVlcnlSYXciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/logger.ts":
/*!***************************!*\
  !*** ./src/lib/logger.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Logger: () => (/* binding */ Logger),\n/* harmony export */   apiLogger: () => (/* binding */ apiLogger),\n/* harmony export */   authLogger: () => (/* binding */ authLogger),\n/* harmony export */   dbLogger: () => (/* binding */ dbLogger),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   securityLogger: () => (/* binding */ securityLogger)\n/* harmony export */ });\n/**\n * Enhanced logger for production and development environments\n * Provides structured logging with different levels and environments\n */ class Logger {\n    constructor(context = 'Application'){\n        this.context = context;\n        this.logLevel = this.getLogLevel();\n    }\n    static getInstance(context = 'Application') {\n        if (!Logger.instance) {\n            Logger.instance = new Logger(context);\n        }\n        return Logger.instance;\n    }\n    getLogLevel() {\n        const envLevel = process.env.LOG_LEVEL?.toLowerCase();\n        const validLevels = [\n            'debug',\n            'info',\n            'warn',\n            'error'\n        ];\n        if (validLevels.includes(envLevel)) {\n            return envLevel;\n        }\n        // Default to info in production, debug in development\n        return  false ? 0 : 'debug';\n    }\n    shouldLog(level) {\n        const levels = [\n            'debug',\n            'info',\n            'warn',\n            'error'\n        ];\n        const currentLevelIndex = levels.indexOf(this.logLevel);\n        const messageLevelIndex = levels.indexOf(level);\n        return messageLevelIndex >= currentLevelIndex;\n    }\n    formatMessage(level, message, data, error) {\n        return {\n            message,\n            level,\n            timestamp: new Date().toISOString(),\n            context: this.context,\n            data,\n            error\n        };\n    }\n    logToConsole(logData) {\n        const { level, message, timestamp, context, data, error } = logData;\n        const logMessage = `[${timestamp}] [${level.toUpperCase()}] [${context}] ${message}`;\n        switch(level){\n            case 'debug':\n                if (true) {\n                    console.debug(logMessage, data || '');\n                }\n                break;\n            case 'info':\n                break;\n            case 'warn':\n                break;\n            case 'error':\n                console.error(logMessage, error || data || '');\n                break;\n        }\n    }\n    debug(message, data) {\n        if (this.shouldLog('debug')) {\n            const logData = this.formatMessage('debug', message, data);\n            this.logToConsole(logData);\n        }\n    }\n    info(message, data) {\n        if (this.shouldLog('info')) {\n            const logData = this.formatMessage('info', message, data);\n            this.logToConsole(logData);\n        }\n    }\n    warn(message, data) {\n        if (this.shouldLog('warn')) {\n            const logData = this.formatMessage('warn', message, data);\n            this.logToConsole(logData);\n        }\n    }\n    error(message, error, data) {\n        if (this.shouldLog('error')) {\n            const logData = this.formatMessage('error', message, data, error instanceof Error ? error : undefined);\n            this.logToConsole(logData);\n            // In production, you might want to send errors to external service\n            if (false) {}\n        }\n    }\n    sendToExternalService(logData) {\n        try {\n            // Sentry integration\n            if (process.env.SENTRY_DSN && logData.level === 'error') {\n                this.sendToSentry(logData);\n            }\n            // CloudWatch Logs integration\n            if (process.env.AWS_CLOUDWATCH_LOG_GROUP) {\n                this.sendToCloudWatch(logData);\n            }\n            // Generic webhook integration\n            if (process.env.ERROR_WEBHOOK_URL && logData.level === 'error') {\n                this.sendToWebhook(logData);\n            }\n        } catch (externalError) {\n            // Don't let external service errors break the application\n            console.error('Failed to send log to external service:', externalError);\n        }\n    }\n    sendToSentry(logData) {\n        // Dynamic import to avoid bundle bloat if Sentry isn't used\n        try {\n            // Check if Sentry is available before importing\n            if (false) {} else {\n                // Try dynamic import for server-side\n                Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@opentelemetry\"), __webpack_require__.e(\"vendor-chunks/next\"), __webpack_require__.e(\"vendor-chunks/@swc\"), __webpack_require__.e(\"vendor-chunks/@sentry\"), __webpack_require__.e(\"vendor-chunks/@prisma\"), __webpack_require__.e(\"vendor-chunks/resolve\"), __webpack_require__.e(\"vendor-chunks/color-convert\"), __webpack_require__.e(\"vendor-chunks/chalk\"), __webpack_require__.e(\"vendor-chunks/is-core-module\"), __webpack_require__.e(\"vendor-chunks/forwarded-parse\"), __webpack_require__.e(\"vendor-chunks/color-name\"), __webpack_require__.e(\"vendor-chunks/ansi-styles\"), __webpack_require__.e(\"vendor-chunks/stacktrace-parser\"), __webpack_require__.e(\"vendor-chunks/shimmer\"), __webpack_require__.e(\"vendor-chunks/supports-color\"), __webpack_require__.e(\"vendor-chunks/function-bind\"), __webpack_require__.e(\"vendor-chunks/path-parse\"), __webpack_require__.e(\"vendor-chunks/balanced-match\"), __webpack_require__.e(\"vendor-chunks/has-flag\"), __webpack_require__.e(\"vendor-chunks/hasown\"), __webpack_require__.e(\"_rsc_node_modules_opentelemetry_instrumentation_build_esm_platform_node_sync_recursive-_rsc_n-7c51d7\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sentry/nextjs */ \"(rsc)/./node_modules/@sentry/nextjs/build/cjs/index.server.js\", 23)).then((Sentry)=>{\n                    this.sendToSentryInstance(Sentry.default || Sentry, logData);\n                }).catch(()=>{\n                // Sentry not available, silently ignore\n                });\n            }\n        } catch  {\n        // Sentry not available, silently ignore\n        }\n    }\n    sendToSentryInstance(Sentry, logData) {\n        if (logData.error) {\n            Sentry.captureException(logData.error, {\n                tags: {\n                    context: logData.context,\n                    level: logData.level\n                },\n                extra: {\n                    message: logData.message,\n                    data: logData.data,\n                    userId: logData.userId,\n                    sessionId: logData.sessionId,\n                    requestId: logData.requestId\n                }\n            });\n        } else {\n            Sentry.captureMessage(logData.message, {\n                level: logData.level === 'error' ? 'error' : 'warning',\n                tags: {\n                    context: logData.context\n                },\n                extra: {\n                    data: logData.data,\n                    userId: logData.userId,\n                    sessionId: logData.sessionId,\n                    requestId: logData.requestId\n                }\n            });\n        }\n    }\n    sendToCloudWatch(logData) {\n        // AWS CloudWatch integration would go here\n        // This is a placeholder for actual implementation\n        if (true) {\n            // Only run on server side\n            console.log('CloudWatch logging not implemented yet');\n        }\n    }\n    async sendToWebhook(logData) {\n        try {\n            await fetch(process.env.ERROR_WEBHOOK_URL, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    ...logData,\n                    service: 'manitos-pintadas',\n                    environment: \"development\"\n                })\n            });\n        } catch (error) {\n            console.error('Failed to send error to webhook:', error);\n        }\n    }\n    // Enhanced error tracking methods\n    logApiError(endpoint, error, context, userId, sessionId) {\n        this.error(`API Error: ${endpoint}`, error, {\n            context,\n            userId,\n            sessionId,\n            endpoint,\n            userAgent:  false ? 0 : undefined,\n            url:  false ? 0 : undefined\n        });\n    }\n    logDatabaseError(operation, error, context) {\n        this.error(`Database Error: ${operation}`, error, {\n            context,\n            operation,\n            database: process.env.DATABASE_URL ? 'configured' : 'not-configured'\n        });\n    }\n    logSecurityEvent(event, userId, details, severity = 'medium') {\n        const level = severity === 'critical' ? 'error' : 'warn';\n        const logData = this.formatMessage(level, `Security Event: ${event}`, {\n            userId,\n            details,\n            severity,\n            ip: details?.ip,\n            userAgent: details?.userAgent\n        });\n        if (level === 'error') {\n            this.error(`Security Event: ${event}`, undefined, {\n                userId,\n                details,\n                severity\n            });\n        } else {\n            this.warn(`Security Event: ${event}`, {\n                userId,\n                details,\n                severity\n            });\n        }\n    }\n    logUserAction(action, userId, details) {\n        this.info(`User Action: ${action}`, {\n            userId,\n            details,\n            timestamp: new Date().toISOString()\n        });\n    }\n    logPerformanceMetric(metric, value, context) {\n        this.info(`Performance: ${metric}`, {\n            value,\n            context,\n            timestamp: new Date().toISOString()\n        });\n    }\n    // Error boundary specific logging\n    logErrorBoundary(error, errorInfo, componentName) {\n        this.error('Error Boundary Caught Error', error, {\n            componentName,\n            componentStack: errorInfo.componentStack,\n            errorBoundary: true,\n            timestamp: new Date().toISOString()\n        });\n    }\n    // Client-side error tracking\n    logClientError(error, context) {\n        this.error('Client Error', error, {\n            context,\n            userAgent:  false ? 0 : undefined,\n            url:  false ? 0 : undefined,\n            timestamp: new Date().toISOString(),\n            clientSide: true\n        });\n    }\n}\n// Convenience exports\nconst logger = Logger.getInstance('Application');\n// Context-specific loggers\nconst authLogger = Logger.getInstance('Auth');\nconst apiLogger = Logger.getInstance('API');\nconst dbLogger = Logger.getInstance('Database');\nconst securityLogger = Logger.getInstance('Security');\n// Export for backward compatibility\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (logger);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPSSxXQUFXLENBQUMsZUFBZTtBQUV4RCwyQkFBMkI7QUFDcEIsTUFBTTJGLGFBQWEvRixPQUFPSSxXQUFXLENBQUMsUUFBUTtBQUM5QyxNQUFNNEYsWUFBWWhHLE9BQU9JLFdBQVcsQ0FBQyxPQUFPO0FBQzVDLE1BQU02RixXQUFXakcsT0FBT0ksV0FBVyxDQUFDLFlBQVk7QUFDaEQsTUFBTThGLGlCQUFpQmxHLE9BQU9JLFdBQVcsQ0FBQyxZQUFZO0FBRTdELG9DQUFvQztBQUNwQyxpRUFBZTBGLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9tbnQvU2Vjb25kYXJ5L1Byb2plY3RzL1dlYnNpdGVzL1NjaG9vbHMvTWFuaXRvcyBQaW50YWRhcyBTUUwvc3JjL2xpYi9sb2dnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFbmhhbmNlZCBsb2dnZXIgZm9yIHByb2R1Y3Rpb24gYW5kIGRldmVsb3BtZW50IGVudmlyb25tZW50c1xuICogUHJvdmlkZXMgc3RydWN0dXJlZCBsb2dnaW5nIHdpdGggZGlmZmVyZW50IGxldmVscyBhbmQgZW52aXJvbm1lbnRzXG4gKi9cblxuZXhwb3J0IHR5cGUgTG9nTGV2ZWwgPSAnZGVidWcnIHwgJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJztcblxuZXhwb3J0IGludGVyZmFjZSBMb2dEYXRhIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBsZXZlbDogTG9nTGV2ZWw7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBjb250ZXh0Pzogc3RyaW5nO1xuICBkYXRhPzogYW55O1xuICBlcnJvcj86IEVycm9yO1xuICB1c2VySWQ/OiBzdHJpbmc7XG4gIHNlc3Npb25JZD86IHN0cmluZztcbiAgcmVxdWVzdElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IExvZ2dlcjtcbiAgcHJpdmF0ZSBsb2dMZXZlbDogTG9nTGV2ZWw7XG4gIHByaXZhdGUgY29udGV4dDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRleHQ6IHN0cmluZyA9ICdBcHBsaWNhdGlvbicpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMubG9nTGV2ZWwgPSB0aGlzLmdldExvZ0xldmVsKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoY29udGV4dDogc3RyaW5nID0gJ0FwcGxpY2F0aW9uJyk6IExvZ2dlciB7XG4gICAgaWYgKCFMb2dnZXIuaW5zdGFuY2UpIHtcbiAgICAgIExvZ2dlci5pbnN0YW5jZSA9IG5ldyBMb2dnZXIoY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBMb2dnZXIuaW5zdGFuY2U7XG4gIH1cblxuICBwcml2YXRlIGdldExvZ0xldmVsKCk6IExvZ0xldmVsIHtcbiAgICBjb25zdCBlbnZMZXZlbCA9IHByb2Nlc3MuZW52LkxPR19MRVZFTD8udG9Mb3dlckNhc2UoKSBhcyBMb2dMZXZlbDtcbiAgICBjb25zdCB2YWxpZExldmVsczogTG9nTGV2ZWxbXSA9IFsnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJ107XG5cbiAgICBpZiAodmFsaWRMZXZlbHMuaW5jbHVkZXMoZW52TGV2ZWwpKSB7XG4gICAgICByZXR1cm4gZW52TGV2ZWw7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byBpbmZvIGluIHByb2R1Y3Rpb24sIGRlYnVnIGluIGRldmVsb3BtZW50XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAnaW5mbycgOiAnZGVidWcnO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG91bGRMb2cobGV2ZWw6IExvZ0xldmVsKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbGV2ZWxzOiBMb2dMZXZlbFtdID0gWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXTtcbiAgICBjb25zdCBjdXJyZW50TGV2ZWxJbmRleCA9IGxldmVscy5pbmRleE9mKHRoaXMubG9nTGV2ZWwpO1xuICAgIGNvbnN0IG1lc3NhZ2VMZXZlbEluZGV4ID0gbGV2ZWxzLmluZGV4T2YobGV2ZWwpO1xuXG4gICAgcmV0dXJuIG1lc3NhZ2VMZXZlbEluZGV4ID49IGN1cnJlbnRMZXZlbEluZGV4O1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JtYXRNZXNzYWdlKFxuICAgIGxldmVsOiBMb2dMZXZlbCxcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgZGF0YT86IGFueSxcbiAgICBlcnJvcj86IEVycm9yXG4gICk6IExvZ0RhdGEge1xuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbGV2ZWwsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcixcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBsb2dUb0NvbnNvbGUobG9nRGF0YTogTG9nRGF0YSkge1xuICAgIGNvbnN0IHsgbGV2ZWwsIG1lc3NhZ2UsIHRpbWVzdGFtcCwgY29udGV4dCwgZGF0YSwgZXJyb3IgfSA9IGxvZ0RhdGE7XG4gICAgY29uc3QgbG9nTWVzc2FnZSA9IGBbJHt0aW1lc3RhbXB9XSBbJHtsZXZlbC50b1VwcGVyQ2FzZSgpfV0gWyR7Y29udGV4dH1dICR7bWVzc2FnZX1gO1xuXG4gICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgY2FzZSAnZGVidWcnOlxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKGxvZ01lc3NhZ2UsIGRhdGEgfHwgJycpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICBjb25zb2xlLmVycm9yKGxvZ01lc3NhZ2UsIGVycm9yIHx8IGRhdGEgfHwgJycpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpIHtcbiAgICBpZiAodGhpcy5zaG91bGRMb2coJ2RlYnVnJykpIHtcbiAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2RlYnVnJywgbWVzc2FnZSwgZGF0YSk7XG4gICAgICB0aGlzLmxvZ1RvQ29uc29sZShsb2dEYXRhKTtcbiAgICB9XG4gIH1cblxuICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSkge1xuICAgIGlmICh0aGlzLnNob3VsZExvZygnaW5mbycpKSB7XG4gICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdpbmZvJywgbWVzc2FnZSwgZGF0YSk7XG4gICAgICB0aGlzLmxvZ1RvQ29uc29sZShsb2dEYXRhKTtcbiAgICB9XG4gIH1cblxuICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSkge1xuICAgIGlmICh0aGlzLnNob3VsZExvZygnd2FybicpKSB7XG4gICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5mb3JtYXRNZXNzYWdlKCd3YXJuJywgbWVzc2FnZSwgZGF0YSk7XG4gICAgICB0aGlzLmxvZ1RvQ29uc29sZShsb2dEYXRhKTtcbiAgICB9XG4gIH1cblxuICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIGVycm9yPzogRXJyb3IgfCBhbnksIGRhdGE/OiBhbnkpIHtcbiAgICBpZiAodGhpcy5zaG91bGRMb2coJ2Vycm9yJykpIHtcbiAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIHRoaXMubG9nVG9Db25zb2xlKGxvZ0RhdGEpO1xuXG4gICAgICAvLyBJbiBwcm9kdWN0aW9uLCB5b3UgbWlnaHQgd2FudCB0byBzZW5kIGVycm9ycyB0byBleHRlcm5hbCBzZXJ2aWNlXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB0aGlzLnNlbmRUb0V4dGVybmFsU2VydmljZShsb2dEYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNlbmRUb0V4dGVybmFsU2VydmljZShsb2dEYXRhOiBMb2dEYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNlbnRyeSBpbnRlZ3JhdGlvblxuICAgICAgaWYgKHByb2Nlc3MuZW52LlNFTlRSWV9EU04gJiYgbG9nRGF0YS5sZXZlbCA9PT0gJ2Vycm9yJykge1xuICAgICAgICB0aGlzLnNlbmRUb1NlbnRyeShsb2dEYXRhKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xvdWRXYXRjaCBMb2dzIGludGVncmF0aW9uXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuQVdTX0NMT1VEV0FUQ0hfTE9HX0dST1VQKSB7XG4gICAgICAgIHRoaXMuc2VuZFRvQ2xvdWRXYXRjaChsb2dEYXRhKTtcbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJpYyB3ZWJob29rIGludGVncmF0aW9uXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuRVJST1JfV0VCSE9PS19VUkwgJiYgbG9nRGF0YS5sZXZlbCA9PT0gJ2Vycm9yJykge1xuICAgICAgICB0aGlzLnNlbmRUb1dlYmhvb2sobG9nRGF0YSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXh0ZXJuYWxFcnJvcikge1xuICAgICAgLy8gRG9uJ3QgbGV0IGV4dGVybmFsIHNlcnZpY2UgZXJyb3JzIGJyZWFrIHRoZSBhcHBsaWNhdGlvblxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgbG9nIHRvIGV4dGVybmFsIHNlcnZpY2U6JywgZXh0ZXJuYWxFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZW5kVG9TZW50cnkobG9nRGF0YTogTG9nRGF0YSkge1xuICAgIC8vIER5bmFtaWMgaW1wb3J0IHRvIGF2b2lkIGJ1bmRsZSBibG9hdCBpZiBTZW50cnkgaXNuJ3QgdXNlZFxuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiBTZW50cnkgaXMgYXZhaWxhYmxlIGJlZm9yZSBpbXBvcnRpbmdcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAod2luZG93IGFzIGFueSkuU2VudHJ5KSB7XG4gICAgICAgIC8vIENsaWVudC1zaWRlIFNlbnRyeSBpcyBhdmFpbGFibGVcbiAgICAgICAgY29uc3QgU2VudHJ5ID0gKHdpbmRvdyBhcyBhbnkpLlNlbnRyeTtcbiAgICAgICAgdGhpcy5zZW5kVG9TZW50cnlJbnN0YW5jZShTZW50cnksIGxvZ0RhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVHJ5IGR5bmFtaWMgaW1wb3J0IGZvciBzZXJ2ZXItc2lkZVxuICAgICAgICBpbXBvcnQoJ0BzZW50cnkvbmV4dGpzJylcbiAgICAgICAgICAudGhlbigoU2VudHJ5KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNlbmRUb1NlbnRyeUluc3RhbmNlKFNlbnRyeS5kZWZhdWx0IHx8IFNlbnRyeSwgbG9nRGF0YSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgLy8gU2VudHJ5IG5vdCBhdmFpbGFibGUsIHNpbGVudGx5IGlnbm9yZVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gU2VudHJ5IG5vdCBhdmFpbGFibGUsIHNpbGVudGx5IGlnbm9yZVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2VuZFRvU2VudHJ5SW5zdGFuY2UoU2VudHJ5OiBhbnksIGxvZ0RhdGE6IExvZ0RhdGEpIHtcbiAgICBpZiAobG9nRGF0YS5lcnJvcikge1xuICAgICAgU2VudHJ5LmNhcHR1cmVFeGNlcHRpb24obG9nRGF0YS5lcnJvciwge1xuICAgICAgICB0YWdzOiB7XG4gICAgICAgICAgY29udGV4dDogbG9nRGF0YS5jb250ZXh0LFxuICAgICAgICAgIGxldmVsOiBsb2dEYXRhLmxldmVsLFxuICAgICAgICB9LFxuICAgICAgICBleHRyYToge1xuICAgICAgICAgIG1lc3NhZ2U6IGxvZ0RhdGEubWVzc2FnZSxcbiAgICAgICAgICBkYXRhOiBsb2dEYXRhLmRhdGEsXG4gICAgICAgICAgdXNlcklkOiBsb2dEYXRhLnVzZXJJZCxcbiAgICAgICAgICBzZXNzaW9uSWQ6IGxvZ0RhdGEuc2Vzc2lvbklkLFxuICAgICAgICAgIHJlcXVlc3RJZDogbG9nRGF0YS5yZXF1ZXN0SWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgU2VudHJ5LmNhcHR1cmVNZXNzYWdlKGxvZ0RhdGEubWVzc2FnZSwge1xuICAgICAgICBsZXZlbDogbG9nRGF0YS5sZXZlbCA9PT0gJ2Vycm9yJyA/ICdlcnJvcicgOiAnd2FybmluZycsXG4gICAgICAgIHRhZ3M6IHtcbiAgICAgICAgICBjb250ZXh0OiBsb2dEYXRhLmNvbnRleHQsXG4gICAgICAgIH0sXG4gICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgZGF0YTogbG9nRGF0YS5kYXRhLFxuICAgICAgICAgIHVzZXJJZDogbG9nRGF0YS51c2VySWQsXG4gICAgICAgICAgc2Vzc2lvbklkOiBsb2dEYXRhLnNlc3Npb25JZCxcbiAgICAgICAgICByZXF1ZXN0SWQ6IGxvZ0RhdGEucmVxdWVzdElkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZW5kVG9DbG91ZFdhdGNoKGxvZ0RhdGE6IExvZ0RhdGEpIHtcbiAgICAvLyBBV1MgQ2xvdWRXYXRjaCBpbnRlZ3JhdGlvbiB3b3VsZCBnbyBoZXJlXG4gICAgLy8gVGhpcyBpcyBhIHBsYWNlaG9sZGVyIGZvciBhY3R1YWwgaW1wbGVtZW50YXRpb25cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIE9ubHkgcnVuIG9uIHNlcnZlciBzaWRlXG4gICAgICBjb25zb2xlLmxvZygnQ2xvdWRXYXRjaCBsb2dnaW5nIG5vdCBpbXBsZW1lbnRlZCB5ZXQnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNlbmRUb1dlYmhvb2sobG9nRGF0YTogTG9nRGF0YSkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChwcm9jZXNzLmVudi5FUlJPUl9XRUJIT09LX1VSTCEsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgLi4ubG9nRGF0YSxcbiAgICAgICAgICBzZXJ2aWNlOiAnbWFuaXRvcy1waW50YWRhcycsXG4gICAgICAgICAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBlcnJvciB0byB3ZWJob29rOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvLyBFbmhhbmNlZCBlcnJvciB0cmFja2luZyBtZXRob2RzXG4gIGxvZ0FwaUVycm9yKGVuZHBvaW50OiBzdHJpbmcsIGVycm9yOiBFcnJvciwgY29udGV4dD86IGFueSwgdXNlcklkPzogc3RyaW5nLCBzZXNzaW9uSWQ/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmVycm9yKGBBUEkgRXJyb3I6ICR7ZW5kcG9pbnR9YCwgZXJyb3IsIHtcbiAgICAgIGNvbnRleHQsXG4gICAgICB1c2VySWQsXG4gICAgICBzZXNzaW9uSWQsXG4gICAgICBlbmRwb2ludCxcbiAgICAgIHVzZXJBZ2VudDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCA6IHVuZGVmaW5lZCxcbiAgICAgIHVybDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIGxvZ0RhdGFiYXNlRXJyb3Iob3BlcmF0aW9uOiBzdHJpbmcsIGVycm9yOiBFcnJvciwgY29udGV4dD86IGFueSkge1xuICAgIHRoaXMuZXJyb3IoYERhdGFiYXNlIEVycm9yOiAke29wZXJhdGlvbn1gLCBlcnJvciwge1xuICAgICAgY29udGV4dCxcbiAgICAgIG9wZXJhdGlvbixcbiAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwgPyAnY29uZmlndXJlZCcgOiAnbm90LWNvbmZpZ3VyZWQnLFxuICAgIH0pO1xuICB9XG5cbiAgbG9nU2VjdXJpdHlFdmVudChldmVudDogc3RyaW5nLCB1c2VySWQ/OiBzdHJpbmcsIGRldGFpbHM/OiBhbnksIHNldmVyaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJyA9ICdtZWRpdW0nKSB7XG4gICAgY29uc3QgbGV2ZWwgPSBzZXZlcml0eSA9PT0gJ2NyaXRpY2FsJyA/ICdlcnJvcicgOiAnd2Fybic7XG4gICAgY29uc3QgbG9nRGF0YSA9IHRoaXMuZm9ybWF0TWVzc2FnZShsZXZlbCwgYFNlY3VyaXR5IEV2ZW50OiAke2V2ZW50fWAsIHtcbiAgICAgIHVzZXJJZCxcbiAgICAgIGRldGFpbHMsXG4gICAgICBzZXZlcml0eSxcbiAgICAgIGlwOiBkZXRhaWxzPy5pcCxcbiAgICAgIHVzZXJBZ2VudDogZGV0YWlscz8udXNlckFnZW50LFxuICAgIH0pO1xuXG4gICAgaWYgKGxldmVsID09PSAnZXJyb3InKSB7XG4gICAgICB0aGlzLmVycm9yKGBTZWN1cml0eSBFdmVudDogJHtldmVudH1gLCB1bmRlZmluZWQsIHsgdXNlcklkLCBkZXRhaWxzLCBzZXZlcml0eSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53YXJuKGBTZWN1cml0eSBFdmVudDogJHtldmVudH1gLCB7IHVzZXJJZCwgZGV0YWlscywgc2V2ZXJpdHkgfSk7XG4gICAgfVxuICB9XG5cbiAgbG9nVXNlckFjdGlvbihhY3Rpb246IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIGRldGFpbHM/OiBhbnkpIHtcbiAgICB0aGlzLmluZm8oYFVzZXIgQWN0aW9uOiAke2FjdGlvbn1gLCB7XG4gICAgICB1c2VySWQsXG4gICAgICBkZXRhaWxzLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfSk7XG4gIH1cblxuICBsb2dQZXJmb3JtYW5jZU1ldHJpYyhtZXRyaWM6IHN0cmluZywgdmFsdWU6IG51bWJlciwgY29udGV4dD86IGFueSkge1xuICAgIHRoaXMuaW5mbyhgUGVyZm9ybWFuY2U6ICR7bWV0cmljfWAsIHtcbiAgICAgIHZhbHVlLFxuICAgICAgY29udGV4dCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gRXJyb3IgYm91bmRhcnkgc3BlY2lmaWMgbG9nZ2luZ1xuICBsb2dFcnJvckJvdW5kYXJ5KGVycm9yOiBFcnJvciwgZXJyb3JJbmZvOiBhbnksIGNvbXBvbmVudE5hbWU/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmVycm9yKCdFcnJvciBCb3VuZGFyeSBDYXVnaHQgRXJyb3InLCBlcnJvciwge1xuICAgICAgY29tcG9uZW50TmFtZSxcbiAgICAgIGNvbXBvbmVudFN0YWNrOiBlcnJvckluZm8uY29tcG9uZW50U3RhY2ssXG4gICAgICBlcnJvckJvdW5kYXJ5OiB0cnVlLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfSk7XG4gIH1cblxuICAvLyBDbGllbnQtc2lkZSBlcnJvciB0cmFja2luZ1xuICBsb2dDbGllbnRFcnJvcihlcnJvcjogRXJyb3IsIGNvbnRleHQ/OiBhbnkpIHtcbiAgICB0aGlzLmVycm9yKCdDbGllbnQgRXJyb3InLCBlcnJvciwge1xuICAgICAgY29udGV4dCxcbiAgICAgIHVzZXJBZ2VudDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCA6IHVuZGVmaW5lZCxcbiAgICAgIHVybDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6IHVuZGVmaW5lZCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgY2xpZW50U2lkZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBDb252ZW5pZW5jZSBleHBvcnRzXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCdBcHBsaWNhdGlvbicpO1xuXG4vLyBDb250ZXh0LXNwZWNpZmljIGxvZ2dlcnNcbmV4cG9ydCBjb25zdCBhdXRoTG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCdBdXRoJyk7XG5leHBvcnQgY29uc3QgYXBpTG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCdBUEknKTtcbmV4cG9ydCBjb25zdCBkYkxvZ2dlciA9IExvZ2dlci5nZXRJbnN0YW5jZSgnRGF0YWJhc2UnKTtcbmV4cG9ydCBjb25zdCBzZWN1cml0eUxvZ2dlciA9IExvZ2dlci5nZXRJbnN0YW5jZSgnU2VjdXJpdHknKTtcblxuLy8gRXhwb3J0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXSwibmFtZXMiOlsiTG9nZ2VyIiwiY29udGV4dCIsImxvZ0xldmVsIiwiZ2V0TG9nTGV2ZWwiLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwiZW52TGV2ZWwiLCJwcm9jZXNzIiwiZW52IiwiTE9HX0xFVkVMIiwidG9Mb3dlckNhc2UiLCJ2YWxpZExldmVscyIsImluY2x1ZGVzIiwic2hvdWxkTG9nIiwibGV2ZWwiLCJsZXZlbHMiLCJjdXJyZW50TGV2ZWxJbmRleCIsImluZGV4T2YiLCJtZXNzYWdlTGV2ZWxJbmRleCIsImZvcm1hdE1lc3NhZ2UiLCJtZXNzYWdlIiwiZGF0YSIsImVycm9yIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibG9nVG9Db25zb2xlIiwibG9nRGF0YSIsImxvZ01lc3NhZ2UiLCJ0b1VwcGVyQ2FzZSIsImNvbnNvbGUiLCJkZWJ1ZyIsImluZm8iLCJ3YXJuIiwiRXJyb3IiLCJ1bmRlZmluZWQiLCJzZW5kVG9FeHRlcm5hbFNlcnZpY2UiLCJTRU5UUllfRFNOIiwic2VuZFRvU2VudHJ5IiwiQVdTX0NMT1VEV0FUQ0hfTE9HX0dST1VQIiwic2VuZFRvQ2xvdWRXYXRjaCIsIkVSUk9SX1dFQkhPT0tfVVJMIiwic2VuZFRvV2ViaG9vayIsImV4dGVybmFsRXJyb3IiLCJ3aW5kb3ciLCJTZW50cnkiLCJzZW5kVG9TZW50cnlJbnN0YW5jZSIsInRoZW4iLCJkZWZhdWx0IiwiY2F0Y2giLCJjYXB0dXJlRXhjZXB0aW9uIiwidGFncyIsImV4dHJhIiwidXNlcklkIiwic2Vzc2lvbklkIiwicmVxdWVzdElkIiwiY2FwdHVyZU1lc3NhZ2UiLCJsb2ciLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNlcnZpY2UiLCJlbnZpcm9ubWVudCIsImxvZ0FwaUVycm9yIiwiZW5kcG9pbnQiLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJ1cmwiLCJsb2NhdGlvbiIsImhyZWYiLCJsb2dEYXRhYmFzZUVycm9yIiwib3BlcmF0aW9uIiwiZGF0YWJhc2UiLCJEQVRBQkFTRV9VUkwiLCJsb2dTZWN1cml0eUV2ZW50IiwiZXZlbnQiLCJkZXRhaWxzIiwic2V2ZXJpdHkiLCJpcCIsImxvZ1VzZXJBY3Rpb24iLCJhY3Rpb24iLCJsb2dQZXJmb3JtYW5jZU1ldHJpYyIsIm1ldHJpYyIsInZhbHVlIiwibG9nRXJyb3JCb3VuZGFyeSIsImVycm9ySW5mbyIsImNvbXBvbmVudE5hbWUiLCJjb21wb25lbnRTdGFjayIsImVycm9yQm91bmRhcnkiLCJsb2dDbGllbnRFcnJvciIsImNsaWVudFNpZGUiLCJsb2dnZXIiLCJhdXRoTG9nZ2VyIiwiYXBpTG9nZ2VyIiwiZGJMb2dnZXIiLCJzZWN1cml0eUxvZ2dlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/logger.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/rate-limiter.ts":
/*!*********************************!*\
  !*** ./src/lib/rate-limiter.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RATE_LIMITS: () => (/* binding */ RATE_LIMITS),\n/* harmony export */   checkRateLimit: () => (/* binding */ checkRateLimit),\n/* harmony export */   getRateLimitHeaders: () => (/* binding */ getRateLimitHeaders),\n/* harmony export */   rateLimiter: () => (/* binding */ rateLimiter)\n/* harmony export */ });\n// Simple in-memory rate limiter for Edge Runtime compatibility\n// Uses Edge-compatible Map storage, no Node.js dependencies\nclass RateLimiter {\n    /**\n   * Check if request should be rate limited\n   * @param key - Unique identifier (IP, user ID, etc)\n   * @param limit - Max requests allowed\n   * @param windowMs - Time window in milliseconds\n   * @returns true if rate limited, false if allowed\n   */ isLimited(key, limit, windowMs) {\n        const now = Date.now();\n        const existing = this.storage.get(key);\n        if (!existing || now > existing.resetTime) {\n            // Reset counter for new window\n            this.storage.set(key, {\n                count: 1,\n                resetTime: now + windowMs\n            });\n            return false;\n        }\n        if (existing.count >= limit) {\n            return true;\n        }\n        // Increment counter\n        existing.count++;\n        return false;\n    }\n    /**\n   * Get remaining requests for a key\n   */ getRemaining(key, limit, windowMs) {\n        const now = Date.now();\n        const existing = this.storage.get(key);\n        if (!existing || now > existing.resetTime) {\n            return limit;\n        }\n        return Math.max(0, limit - existing.count);\n    }\n    /**\n   * Clean up expired entries (optional cleanup)\n   */ cleanup() {\n        const now = Date.now();\n        for (const [key, entry] of this.storage.entries()){\n            if (now > entry.resetTime) {\n                this.storage.delete(key);\n            }\n        }\n    }\n    constructor(){\n        this.storage = new Map();\n    }\n}\n// Export singleton instance\nconst rateLimiter = new RateLimiter();\n// Predefined rate limits for common use cases\nconst RATE_LIMITS = {\n    LOGIN: {\n        limit: 5,\n        windowMs: 15 * 60 * 1000\n    },\n    UPLOAD: {\n        limit: 10,\n        windowMs: 60 * 60 * 1000\n    },\n    API: {\n        limit: 200,\n        windowMs: 15 * 60 * 1000\n    },\n    GENERAL: {\n        limit: 100,\n        windowMs: 60 * 1000\n    },\n    PARENT_REQUESTS: {\n        limit: 3,\n        windowMs: 60 * 60 * 1000\n    },\n    ADMIN_ACTIONS: {\n        limit: 20,\n        windowMs: 60 * 1000\n    },\n    SESSION_REQUESTS: {\n        limit: 100,\n        windowMs: 5 * 60 * 1000\n    },\n    AUTH_ACTIONS: {\n        limit: 50,\n        windowMs: 15 * 60 * 1000\n    }\n};\n/**\n * Rate limiting middleware for API routes\n * @param request - NextRequest object\n * @param limit - Max requests allowed\n * @param windowMs - Time window in milliseconds\n * @param keyPrefix - Prefix for the rate limit key (e.g., 'api', 'auth')\n * @returns boolean - true if rate limited, false if allowed\n */ function checkRateLimit(request, limit, windowMs, keyPrefix = 'api') {\n    const clientIp = request.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || request.headers.get('x-real-ip') || request.headers.get('cf-connecting-ip') || 'unknown';\n    const rateLimitKey = `${keyPrefix}:${clientIp}`;\n    return rateLimiter.isLimited(rateLimitKey, limit, windowMs);\n}\n/**\n * Get rate limit headers for response\n * @param request - NextRequest object\n * @param limit - Max requests allowed\n * @param windowMs - Time window in milliseconds\n * @param keyPrefix - Prefix for the rate limit key\n * @returns headers object with rate limit info\n */ function getRateLimitHeaders(request, limit, windowMs, keyPrefix = 'api') {\n    const clientIp = request.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || request.headers.get('x-real-ip') || request.headers.get('cf-connecting-ip') || 'unknown';\n    const rateLimitKey = `${keyPrefix}:${clientIp}`;\n    const remaining = rateLimiter.getRemaining(rateLimitKey, limit, windowMs);\n    return {\n        'X-RateLimit-Limit': limit.toString(),\n        'X-RateLimit-Remaining': Math.max(0, remaining).toString(),\n        'X-RateLimit-Reset': (Date.now() + windowMs).toString()\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT0M7QUFDcEQ7QUFFQTs7Ozs7OztDQU9DLEdBQ00sU0FBU21DLG9CQUNkUCxPQUFnQixFQUNoQjdCLEtBQWEsRUFDYkMsUUFBZ0IsRUFDaEI2QixZQUFvQixLQUFLO0lBRXpCLE1BQU1DLFdBQ0pGLFFBQVFHLE9BQU8sQ0FBQzFCLEdBQUcsQ0FBQyxvQkFBb0IyQixNQUFNLElBQUksQ0FBQyxFQUFFLEVBQUVDLFVBQ3ZETCxRQUFRRyxPQUFPLENBQUMxQixHQUFHLENBQUMsZ0JBQ3BCdUIsUUFBUUcsT0FBTyxDQUFDMUIsR0FBRyxDQUFDLHVCQUNwQjtJQUVGLE1BQU02QixlQUFlLEdBQUdMLFVBQVUsQ0FBQyxFQUFFQyxVQUFVO0lBQy9DLE1BQU1NLFlBQVluQixZQUFZUixZQUFZLENBQUN5QixjQUFjbkMsT0FBT0M7SUFFaEUsT0FBTztRQUNMLHFCQUFxQkQsTUFBTXNDLFFBQVE7UUFDbkMseUJBQXlCM0IsS0FBS0MsR0FBRyxDQUFDLEdBQUd5QixXQUFXQyxRQUFRO1FBQ3hELHFCQUFxQixDQUFDbkMsS0FBS0QsR0FBRyxLQUFLRCxRQUFPLEVBQUdxQyxRQUFRO0lBQ3ZEO0FBQ0YiLCJzb3VyY2VzIjpbIi9tbnQvU2Vjb25kYXJ5L1Byb2plY3RzL1dlYnNpdGVzL1NjaG9vbHMvTWFuaXRvcyBQaW50YWRhcyBTUUwvc3JjL2xpYi9yYXRlLWxpbWl0ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2ltcGxlIGluLW1lbW9yeSByYXRlIGxpbWl0ZXIgZm9yIEVkZ2UgUnVudGltZSBjb21wYXRpYmlsaXR5XG4vLyBVc2VzIEVkZ2UtY29tcGF0aWJsZSBNYXAgc3RvcmFnZSwgbm8gTm9kZS5qcyBkZXBlbmRlbmNpZXNcblxuaW50ZXJmYWNlIFJhdGVMaW1pdEVudHJ5IHtcbiAgY291bnQ6IG51bWJlcjtcbiAgcmVzZXRUaW1lOiBudW1iZXI7XG59XG5cbmNsYXNzIFJhdGVMaW1pdGVyIHtcbiAgcHJpdmF0ZSBzdG9yYWdlID0gbmV3IE1hcDxzdHJpbmcsIFJhdGVMaW1pdEVudHJ5PigpO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiByZXF1ZXN0IHNob3VsZCBiZSByYXRlIGxpbWl0ZWRcbiAgICogQHBhcmFtIGtleSAtIFVuaXF1ZSBpZGVudGlmaWVyIChJUCwgdXNlciBJRCwgZXRjKVxuICAgKiBAcGFyYW0gbGltaXQgLSBNYXggcmVxdWVzdHMgYWxsb3dlZFxuICAgKiBAcGFyYW0gd2luZG93TXMgLSBUaW1lIHdpbmRvdyBpbiBtaWxsaXNlY29uZHNcbiAgICogQHJldHVybnMgdHJ1ZSBpZiByYXRlIGxpbWl0ZWQsIGZhbHNlIGlmIGFsbG93ZWRcbiAgICovXG4gIGlzTGltaXRlZChrZXk6IHN0cmluZywgbGltaXQ6IG51bWJlciwgd2luZG93TXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLnN0b3JhZ2UuZ2V0KGtleSk7XG5cbiAgICBpZiAoIWV4aXN0aW5nIHx8IG5vdyA+IGV4aXN0aW5nLnJlc2V0VGltZSkge1xuICAgICAgLy8gUmVzZXQgY291bnRlciBmb3IgbmV3IHdpbmRvd1xuICAgICAgdGhpcy5zdG9yYWdlLnNldChrZXksIHtcbiAgICAgICAgY291bnQ6IDEsXG4gICAgICAgIHJlc2V0VGltZTogbm93ICsgd2luZG93TXMsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZXhpc3RpbmcuY291bnQgPj0gbGltaXQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEluY3JlbWVudCBjb3VudGVyXG4gICAgZXhpc3RpbmcuY291bnQrKztcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlbWFpbmluZyByZXF1ZXN0cyBmb3IgYSBrZXlcbiAgICovXG4gIGdldFJlbWFpbmluZyhrZXk6IHN0cmluZywgbGltaXQ6IG51bWJlciwgd2luZG93TXM6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuc3RvcmFnZS5nZXQoa2V5KTtcblxuICAgIGlmICghZXhpc3RpbmcgfHwgbm93ID4gZXhpc3RpbmcucmVzZXRUaW1lKSB7XG4gICAgICByZXR1cm4gbGltaXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIGxpbWl0IC0gZXhpc3RpbmcuY291bnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwIGV4cGlyZWQgZW50cmllcyAob3B0aW9uYWwgY2xlYW51cClcbiAgICovXG4gIGNsZWFudXAoKTogdm9pZCB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIGVudHJ5XSBvZiB0aGlzLnN0b3JhZ2UuZW50cmllcygpKSB7XG4gICAgICBpZiAobm93ID4gZW50cnkucmVzZXRUaW1lKSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZS5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IHJhdGVMaW1pdGVyID0gbmV3IFJhdGVMaW1pdGVyKCk7XG5cbi8vIFByZWRlZmluZWQgcmF0ZSBsaW1pdHMgZm9yIGNvbW1vbiB1c2UgY2FzZXNcbmV4cG9ydCBjb25zdCBSQVRFX0xJTUlUUyA9IHtcbiAgTE9HSU46IHsgbGltaXQ6IDUsIHdpbmRvd01zOiAxNSAqIDYwICogMTAwMCB9LCAvLyA1IGF0dGVtcHRzIHBlciAxNSBtaW51dGVzXG4gIFVQTE9BRDogeyBsaW1pdDogMTAsIHdpbmRvd01zOiA2MCAqIDYwICogMTAwMCB9LCAvLyAxMCB1cGxvYWRzIHBlciBob3VyXG4gIEFQSTogeyBsaW1pdDogMjAwLCB3aW5kb3dNczogMTUgKiA2MCAqIDEwMDAgfSwgLy8gMjAwIHJlcXVlc3RzIHBlciAxNSBtaW51dGVzIChpbmNyZWFzZWQgZm9yIGRldmVsb3BtZW50KVxuICBHRU5FUkFMOiB7IGxpbWl0OiAxMDAsIHdpbmRvd01zOiA2MCAqIDEwMDAgfSwgLy8gMTAwIHJlcXVlc3RzIHBlciBtaW51dGUgKGluY3JlYXNlZCBmb3IgZGV2ZWxvcG1lbnQpXG4gIFBBUkVOVF9SRVFVRVNUUzogeyBsaW1pdDogMywgd2luZG93TXM6IDYwICogNjAgKiAxMDAwIH0sIC8vIDMgbWVldGluZyByZXF1ZXN0cyBwZXIgaG91clxuICBBRE1JTl9BQ1RJT05TOiB7IGxpbWl0OiAyMCwgd2luZG93TXM6IDYwICogMTAwMCB9LCAvLyAyMCBhZG1pbiBhY3Rpb25zIHBlciBtaW51dGVcbiAgU0VTU0lPTl9SRVFVRVNUUzogeyBsaW1pdDogMTAwLCB3aW5kb3dNczogNSAqIDYwICogMTAwMCB9LCAvLyAxMDAgc2Vzc2lvbiByZXF1ZXN0cyBwZXIgNSBtaW51dGVzIChpbmNyZWFzZWQgZm9yIGRldmVsb3BtZW50KVxuICBBVVRIX0FDVElPTlM6IHsgbGltaXQ6IDUwLCB3aW5kb3dNczogMTUgKiA2MCAqIDEwMDAgfSwgLy8gNTAgYXV0aCBhY3Rpb25zIHBlciAxNSBtaW51dGVzIChpbmNyZWFzZWQgZm9yIGRldmVsb3BtZW50KVxufSBhcyBjb25zdDtcblxuLyoqXG4gKiBSYXRlIGxpbWl0aW5nIG1pZGRsZXdhcmUgZm9yIEFQSSByb3V0ZXNcbiAqIEBwYXJhbSByZXF1ZXN0IC0gTmV4dFJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0gbGltaXQgLSBNYXggcmVxdWVzdHMgYWxsb3dlZFxuICogQHBhcmFtIHdpbmRvd01zIC0gVGltZSB3aW5kb3cgaW4gbWlsbGlzZWNvbmRzXG4gKiBAcGFyYW0ga2V5UHJlZml4IC0gUHJlZml4IGZvciB0aGUgcmF0ZSBsaW1pdCBrZXkgKGUuZy4sICdhcGknLCAnYXV0aCcpXG4gKiBAcmV0dXJucyBib29sZWFuIC0gdHJ1ZSBpZiByYXRlIGxpbWl0ZWQsIGZhbHNlIGlmIGFsbG93ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmF0ZUxpbWl0KFxuICByZXF1ZXN0OiBSZXF1ZXN0LFxuICBsaW1pdDogbnVtYmVyLFxuICB3aW5kb3dNczogbnVtYmVyLFxuICBrZXlQcmVmaXg6IHN0cmluZyA9ICdhcGknXG4pOiBib29sZWFuIHtcbiAgY29uc3QgY2xpZW50SXAgPVxuICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpPy5zcGxpdCgnLCcpWzBdPy50cmltKCkgfHxcbiAgICByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LXJlYWwtaXAnKSB8fFxuICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ2NmLWNvbm5lY3RpbmctaXAnKSB8fFxuICAgICd1bmtub3duJztcblxuICBjb25zdCByYXRlTGltaXRLZXkgPSBgJHtrZXlQcmVmaXh9OiR7Y2xpZW50SXB9YDtcblxuICByZXR1cm4gcmF0ZUxpbWl0ZXIuaXNMaW1pdGVkKHJhdGVMaW1pdEtleSwgbGltaXQsIHdpbmRvd01zKTtcbn1cblxuLyoqXG4gKiBHZXQgcmF0ZSBsaW1pdCBoZWFkZXJzIGZvciByZXNwb25zZVxuICogQHBhcmFtIHJlcXVlc3QgLSBOZXh0UmVxdWVzdCBvYmplY3RcbiAqIEBwYXJhbSBsaW1pdCAtIE1heCByZXF1ZXN0cyBhbGxvd2VkXG4gKiBAcGFyYW0gd2luZG93TXMgLSBUaW1lIHdpbmRvdyBpbiBtaWxsaXNlY29uZHNcbiAqIEBwYXJhbSBrZXlQcmVmaXggLSBQcmVmaXggZm9yIHRoZSByYXRlIGxpbWl0IGtleVxuICogQHJldHVybnMgaGVhZGVycyBvYmplY3Qgd2l0aCByYXRlIGxpbWl0IGluZm9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJhdGVMaW1pdEhlYWRlcnMoXG4gIHJlcXVlc3Q6IFJlcXVlc3QsXG4gIGxpbWl0OiBudW1iZXIsXG4gIHdpbmRvd01zOiBudW1iZXIsXG4gIGtleVByZWZpeDogc3RyaW5nID0gJ2FwaSdcbik6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICBjb25zdCBjbGllbnRJcCA9XG4gICAgcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJyk/LnNwbGl0KCcsJylbMF0/LnRyaW0oKSB8fFxuICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtcmVhbC1pcCcpIHx8XG4gICAgcmVxdWVzdC5oZWFkZXJzLmdldCgnY2YtY29ubmVjdGluZy1pcCcpIHx8XG4gICAgJ3Vua25vd24nO1xuXG4gIGNvbnN0IHJhdGVMaW1pdEtleSA9IGAke2tleVByZWZpeH06JHtjbGllbnRJcH1gO1xuICBjb25zdCByZW1haW5pbmcgPSByYXRlTGltaXRlci5nZXRSZW1haW5pbmcocmF0ZUxpbWl0S2V5LCBsaW1pdCwgd2luZG93TXMpO1xuXG4gIHJldHVybiB7XG4gICAgJ1gtUmF0ZUxpbWl0LUxpbWl0JzogbGltaXQudG9TdHJpbmcoKSxcbiAgICAnWC1SYXRlTGltaXQtUmVtYWluaW5nJzogTWF0aC5tYXgoMCwgcmVtYWluaW5nKS50b1N0cmluZygpLFxuICAgICdYLVJhdGVMaW1pdC1SZXNldCc6IChEYXRlLm5vdygpICsgd2luZG93TXMpLnRvU3RyaW5nKCksXG4gIH07XG59XG4iXSwibmFtZXMiOlsiUmF0ZUxpbWl0ZXIiLCJpc0xpbWl0ZWQiLCJrZXkiLCJsaW1pdCIsIndpbmRvd01zIiwibm93IiwiRGF0ZSIsImV4aXN0aW5nIiwic3RvcmFnZSIsImdldCIsInJlc2V0VGltZSIsInNldCIsImNvdW50IiwiZ2V0UmVtYWluaW5nIiwiTWF0aCIsIm1heCIsImNsZWFudXAiLCJlbnRyeSIsImVudHJpZXMiLCJkZWxldGUiLCJNYXAiLCJyYXRlTGltaXRlciIsIlJBVEVfTElNSVRTIiwiTE9HSU4iLCJVUExPQUQiLCJBUEkiLCJHRU5FUkFMIiwiUEFSRU5UX1JFUVVFU1RTIiwiQURNSU5fQUNUSU9OUyIsIlNFU1NJT05fUkVRVUVTVFMiLCJBVVRIX0FDVElPTlMiLCJjaGVja1JhdGVMaW1pdCIsInJlcXVlc3QiLCJrZXlQcmVmaXgiLCJjbGllbnRJcCIsImhlYWRlcnMiLCJzcGxpdCIsInRyaW0iLCJyYXRlTGltaXRLZXkiLCJnZXRSYXRlTGltaXRIZWFkZXJzIiwicmVtYWluaW5nIiwidG9TdHJpbmciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/rate-limiter.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "async_hooks":
/*!******************************!*\
  !*** external "async_hooks" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("async_hooks");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "diagnostics_channel":
/*!**************************************!*\
  !*** external "diagnostics_channel" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("diagnostics_channel");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "import-in-the-middle":
/*!***************************************!*\
  !*** external "import-in-the-middle" ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = require("import-in-the-middle");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "node:child_process":
/*!*************************************!*\
  !*** external "node:child_process" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:child_process");

/***/ }),

/***/ "node:diagnostics_channel":
/*!*******************************************!*\
  !*** external "node:diagnostics_channel" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:diagnostics_channel");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ "node:inspector":
/*!*********************************!*\
  !*** external "node:inspector" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:inspector");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ "node:os":
/*!**************************!*\
  !*** external "node:os" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:os");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:readline":
/*!********************************!*\
  !*** external "node:readline" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:readline");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:tls":
/*!***************************!*\
  !*** external "node:tls" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:tls");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "node:worker_threads":
/*!**************************************!*\
  !*** external "node:worker_threads" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:worker_threads");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "perf_hooks":
/*!*****************************!*\
  !*** external "perf_hooks" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("perf_hooks");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "require-in-the-middle":
/*!****************************************!*\
  !*** external "require-in-the-middle" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("require-in-the-middle");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@opentelemetry","vendor-chunks/next","vendor-chunks/@auth","vendor-chunks/next-auth","vendor-chunks/jose","vendor-chunks/oauth4webapi","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2Fmnt%2FSecondary%2FProjects%2FWebsites%2FSchools%2FManitos%20Pintadas%20SQL%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2FSecondary%2FProjects%2FWebsites%2FSchools%2FManitos%20Pintadas%20SQL&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();